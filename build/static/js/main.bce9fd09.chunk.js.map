{"version":3,"sources":["client/src/components/Popup.js","client/src/components/OnlineListPopup.js","client/src/styles/Menu-styles.js","client/src/components/Title.js","client/src/components/Option.js","client/src/components/MenuSubSection.js","client/src/sockets/index.js","client/src/sockets/emits.js","client/src/containers/Menu/index.js","client/src/styles/Game-style.js","client/src/components/canFit.js","client/src/components/initialState.js","client/src/components/Block.js","client/src/containers/Game/FinishPage.js","client/src/containers/Game/InGamePage.js","client/src/containers/Game/playerInputs.js","client/src/containers/Game/Game.js","client/src/containers/Game/checkFunctions.js","client/src/containers/Multi/index.js","client/src/reducers/reducer.js","client/src/serviceWorker.js","client/index.js","client/src/App.js","client/src/assets/blue-tetrimino.png"],"names":["withStyles","back","backgroundColor","container","width","minHeight","borderRadius","boxShadow","title","fontSize","color","padding","description","button","cursor","height","marginTop","classes","infos","closePopup","style","zIndex","className","onClick","users","close","playerId","Object","values","map","username","id","position","left","key","keys","colorArray","styles","display","flexDirection","alignItems","animation","backgroundSize","overflow","listUsernameLabel","fontFamily","chatLabel","marginBottom","textAlign","input","border","outline","userOnlineLabel","fontWeight","changeUsernameContainer","startButton","textShadow","transitionDuration","returnMenuButton","centerSubContainer","optionsContainer","option","background","_","random","textTransform","maxWidth","optionLabel","redLabel","WebkitTextFillColor","WebkitBackgroundClip","tetrisLabel","paddingLeft","selectedContainer","chosen","props","src","tetrimino","alt","Option","select","num","shuffle","name","isSelected","selected","onMouseEnter","e","Solo","dispatch","pieces","type","nbPlayer","Create","redirect","useState","roomName","handleChange","onChange","target","value","onKeyDown","keyCode","length","alert","Settings","Join","socket","io","connect","changeUsername","newUsername","emit","_shuffleColor","randNum","popupInfo","disablePopup","gameState","onHover","setHover","onlineList","setOnlineList","usernameInput","changeUsernameInput","tmpPieces","setTmpPieces","useEffect","on","rand","off","room","window","location","assign","player","reload","OnlineListPopup","onlineUsers","transition","margin","autoFocus","GameStyle","gameInfo","alignItem","finishGameTitle","finishGameInfo","gameOverContainer","restartLabel","restartButton","transform","blockStyle","marginLeft","canFit","tetri","res","form","forEach","line","y","col","x","rightSpace","leftSpace","initialTetriState","count","data","isEmpty","tab","maxHeight","h","downSpace","rot","colorTab","shadowBlockStyle","Block","empty","transparent","blockSize","shadow","chat","chatInput","setChatInput","level","score","rows","resetGame","solo","winHeight","returnLobby","shadowBlockSize","Math","trunc","winScore","playTab","index","playing","win","top","winner","endOfGame","isHost","borderColor","winWidth","reset","board","nextTetri","curTetri","dropTime","toUpperCase","startGame","notify","curUser","counter","increment","gameOver","overGame","updateBoard","moveTetri","updateScore","canMove","setCanMove","screenY","setScreenY","screenX","setScreenX","canAddLine","setLineAdd","tmpLineDel","setTmpLineDel","setNext","setRows","setLevel","setDropTime","refInterval","useRef","keyDown","action","success","info","gameStarted","old","n","splice","JSON","stringify","setGameOver","setGameLoop","useCallback","speed","current","setInterval","clearInterval","t","i","gameLoop","keydownFunc","event","tetriRot","checkPlayerInputs","keyUpFunc","removeListener","document","removeEventListener","addEventListener","displayUpdate","len","pointTab","total","calcLvl","emitLinesToOpponents","lines","every","push","removeLine","checkLine","innerHeight","innerWidth","userId","user","message","sendMessage","sender","align","gameHost","initialState","isInGame","isWaiting","shadows","gameReducer","state","playerTab","concat","newPieces","Boolean","hostname","match","url","URL","href","hash","endOfWord","indexOf","toCut","drop","dropLast","equals","getRoomName","getUser","isNil","exist","createRoom","ReactDOM","render","setPopupInfo","useReducer","updateGameState","err","toast","error","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnVisibilityChange","draggable","pauseOnHover","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.bce9fd09.chunk.js","sourcesContent":["import React from 'react'\nimport { withStyles }  from '@material-ui/styles'\n\nexport const styles = () => ({\n    back:{\n        backgroundColor: 'rgba(33,35,46,0.8)'\n    },\n    container: {\n        width: '300px',\n        minHeight: '200px',\n        borderRadius: '20px',\n        boxShadow: '4px 2px 19px 10px rgba(112,106,112,0.29)',\n        backgroundColor: 'rgba(33,35,46,1)',\n    },\n    title: {\n        fontSize: '30px',\n        color: 'white',\n        padding: 5\n    },\n    description: {\n        fontSize: '18px',\n        color: 'white',\n        padding: 5\n    },\n    button: {\n        cursor: 'pointer',\n        '&:hover': {\n            backgroundColor: 'rgba(83,85,96,1)',\n            color: 'rgba(43,45,56,1)'\n        },\n        width: '150px',\n        height: '30px',\n        borderRadius: '5px',\n        backgroundColor: 'rgba(43,45,56,1)',\n        color: 'white',\n        marginTop: 10\n    }\n})\n\nexport const Popup = ({classes, infos, closePopup}) => {\n    return (\n        <div  style={{zIndex: 100}} className={`${classes.back} absolute fullWidth fullHeight flex center alignCenter`}>\n            <div className={`flex center column  alignCenter ${classes.container}`}>\n                <div className={classes.title}>\n                    {infos.title}\n                </div>\n                <div className={classes.description}>\n                    {infos.description}\n                </div>\n                <button className={`flex center alignCenter ${classes.button}`} onClick={()=>{closePopup()}}>\n                    OK\n                </button>\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Popup)","import React from 'react'\nimport { withStyles }  from '@material-ui/styles'\n\nexport const styles = () => ({\n    back:{\n        backgroundColor: 'rgba(33,35,46,0.8)'\n    },\n    container: {\n        width: '300px',\n        minHeight: '200px',\n        borderRadius: '20px',\n        boxShadow: '4px 2px 19px 10px rgba(112,106,112,0.29)',\n        backgroundColor: 'rgba(33,35,46,1)',\n    },\n    title: {\n        fontSize: '30px',\n        color: 'white',\n        padding: 5\n    },\n    description: {\n        fontSize: '18px',\n        color: 'white',\n        padding: 5\n    },\n    button: {\n        cursor: 'pointer',\n        '&:hover': {\n            backgroundColor: 'rgba(83,85,96,1)',\n            color: 'rgba(43,45,56,1)'\n        },\n        width: '150px',\n        height: '30px',\n        borderRadius: '5px',\n        backgroundColor: 'rgba(43,45,56,1)',\n        color: 'white',\n        marginTop: 10\n    }\n});\n\nexport const Popup = ({classes, users, close, playerId}) => {\n    return (\n        <div style={{zIndex: 100}} className={`${classes.back} fullHeight absolute fullWidth flex center alignCenter`}>\n            <div style={{padding: '10px'}} className={`flex center column  alignCenter ${classes.container}`}>\n                <div style={{minHeight: '100px', width: '200px'}} className={classes.description}>\n\t\t\t\t\t\t\t\t\t{users\n\t\t\t\t\t\t\t\t\t\t? Object.values(users).map((username, id)=>{\n\t\t\t\t\t\t\t\t\t\t\treturn <div style={{position: 'relative', left: '20px'}} key={id} className='flex row alignCenter'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{color: 'green', padding: '0px 5px'}}>•</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div >{`${username} ${playerId === Object.keys(users)[id] ? '(you)' : ''}`}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t\t\t}\n                </div>\n                <button className={`flex center alignCenter ${classes.button}`} onClick={()=>{close(false)}}>\n                  OK\n                </button>\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Popup)","import _ from 'lodash'\n\nexport let colorArray = [\n    'rgb(235, 40, 26)',\n    'rgb(235, 120, 26)',\n    'rgb(235, 221, 26)',\n    'rgb(117, 235, 26)',\n    'rgb(26, 218, 235)',\n    'rgb(26, 68, 235)',\n    'rgb(134, 26, 235)',\n    'rgb(235, 26, 183)',\n  ]\n\nexport const styles = ({\n    container: {\n      backgroundColor: 'rgb(33, 35, 46)',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      fontSize: 'calc(10px + 2vmin)',\n      color: 'white',\n      animation: 'gradientBackground 20s infinite',\n      backgroundSize: '100% 100%',\n      overflow: 'hidden',\n      height: '100%'\n    },\n    listUsernameLabel: {\n      fontFamily: 'Orbitron, sans-serif',\n      padding: '15px 0px'\n    },\n    chatLabel: {\n      color: 'grey',\n      marginBottom: '10px',\n      textAlign: 'left',\n      fontSize: '18px'\n    },\n    input:{\n      height: '45px',\n      width: '250px',\n      fontSize: '28px',\n      textAlign: 'center',\n      backgroundColor: 'rgb(47, 49, 64)',\n      border: '3px solid rgb(71, 72, 99)',\n      color: 'white',\n      fontFamily: 'Orbitron, sans-serif',\n      '&:focus': {\n        outline: 'none'\n      }\n    },\n    userOnlineLabel:{\n      marginBottom: '10px',\n      fontFamily: 'Orbitron, sans-serif',\n      fontSize: '20px',\n      cursor: 'pointer',\n      fontWeight: 'bold',\n      '&:hover': {\n        color: 'green'\n      }\n    },\n    changeUsernameContainer: {\n      marginTop: '30px',\n      height: '100px',\n      padding: '10px',\n      cursor: 'pointer',\n      '&:hover':{\n        backgroundColor: 'rgb(47, 49, 64)',\n        borderRadius: '10px'\n      }\n    },\n    startButton: {\n      width: '200px',\n      height: '100px',\n      backgroundColor: 'red',\n      fontFamily: 'Orbitron, sans-serif',\n      color: 'white',\n      cursor: 'pointer',\n      border: '10px solid rgb(47, 49, 64)',\n      fontWeight: 'bold',\n      animation: 'rainbow 10s infinite ease-out',\n      marginBottom: '10px',\n      '&:hover': {\n        textShadow: '0 0 10px #FFFFFF',\n        boxShadow: `inset 0 0 30px white, 0 0 15px white`,\n        transitionDuration: '0.5s',\n        border: '10px solid white',\n      }\n    },\n    returnMenuButton: {\n      height: '30px',\n      cursor: 'pointer',\n      backgroundColor: 'rgb(48, 49, 60)',\n      '&:hover': {\n        color: 'white',\n        transitionDuration: '0.2s',\n        backgroundColor: 'rgb(28, 30, 41)',\n      }\n    },\n    centerSubContainer: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    optionsContainer: {\n      display: 'flex',\n      width: '600px'\n    },\n    option: {\n      padding: '10px 0px',\n      cursor: 'pointer',\n      border: '10px solid rgb(47, 49, 64)',\n      background: colorArray[_.random(0, 7)],\n      '&:hover': {\n        color: 'white',\n        border: '10px solid white',\n        textShadow: '0 0 10px #FFFFFF',\n        boxShadow: `inset 0 0 30px white, 0 0 15px white`,\n        transitionDuration: '0.5s'\n      },\n      textTransform: 'uppercase',\n      transitionDuration: '1s',\n      width: '100%',\n      maxWidth: '180px',\n      height: '120px'\n    },\n    optionLabel: {\n      color: 'white',\n      fontSize: '27px',\n      fontWeight: 'bold',\n      cursor: 'pointer',\n      backgroundColor: 'transparent !important',\n      '&:hover': {\n        textShadow: '0 0 10px #FFFFFF',\n      }\n    },\n    redLabel: {\n      cursor: 'default',\n      textTransform: 'uppercase',\n      fontSize: '45px',\n      WebkitTextFillColor: 'transparent',\n      background: `-webkit-linear-gradient(#eee, red)`,\n      WebkitBackgroundClip: 'text',\n    },\n    tetrisLabel: {\n      textTransform: 'uppercase',\n      cursor: 'default',\n      paddingLeft: '5px',\n      fontSize: '80px',\n      WebkitTextFillColor: 'transparent',\n      background: `-webkit-linear-gradient(#eee, grey)`,\n      WebkitBackgroundClip: 'text',\n      textShadow: '0 0 5px #FFFFFF',\n      animation: 'animate 3s infinite',\n      fontWeight: 'bold'\n    },\n    selectedContainer: {\n      position: 'relative',\n      animation: 'selectOption 1s ease'\n    },\n    chosen: {\n      width: '100%',\n      height: '300px',\n      border: '10px solid rgb(47, 49, 64)',\n      backgroundColor: 'rgb(30, 32, 43)',\n      position: 'relative',\n      animation: 'secondMenu 0.5s ease'\n    }\n  })","import React from 'react'\nimport tetrimino from '../assets/blue-tetrimino.png'\nimport {styles} from '../styles/Menu-styles.js'\nimport { withStyles }  from '@material-ui/styles'\n\nexport const Title = (props) => {\n  const { classes } = props\n  return (\n        <div style={{display: 'flex', flexDirection: 'row', alignItems: 'center'}}>\n          <p className={classes.redLabel}>\n            Red\n          </p>\n          <p className={classes.tetrisLabel}>\n            Tetris\n          </p>\n          <img src={tetrimino} style={{width: '100px', paddingLeft: '20px'}} alt=\"logo\" />\n        </div>\n  )\n}\n\nexport default withStyles(styles)(Title)","import React from 'react'\nimport {styles} from '../styles/Menu-styles.js'\nimport { withStyles }  from '@material-ui/styles'\n\nexport const OptionComponent = (props) => {\n  const { classes, select, num, shuffle, name, selected } = props\n  const isSelected = selected > 0\n  return (\n      <div\n        className={`flex center alignCenter ${classes.option}`}\n        onMouseEnter={(e)=>{!isSelected && shuffle(e)}}\n        onClick={(e)=>{\n            select(num)\n        }}\n      >\n        <p className={classes.optionLabel}>\n          {name}\n        </p>\n      </div>\n  )\n}\n\nexport const Option = withStyles(styles)(OptionComponent)","import React, { useState } from 'react'\nimport {styles} from '../styles/Menu-styles.js'\nimport { withStyles }  from '@material-ui/styles'\n\nexport const SoloComponent = ({ classes, selected, dispatch, pieces }) => {\n    return (\n        <div className={`flex center alignCenter column`} style={selected === 1 ? {display: 'flex'} : {display: 'none'}}>\n            <p className={classes.optionLabel} onClick={()=>{dispatch({type: 'START_GAME', nbPlayer: 1, pieces: pieces})}}>\n                Start\n            </p>\n        </div>\n    )\n}\n\nexport const CreateComponent = ({ classes, selected, redirect}) => {\n    const [roomName, handleChange] = useState('')\n\n    return (\n        <div className={`flex center alignCenter column`} style={selected === 3 ? {display: 'flex'} : {display: 'none'}}>\n            <p>\n              Enter a new room name\n            </p>\n            <input\n              className={`${classes.input}`}\n              onChange={(e)=>{\n                handleChange(e.target.value)\n              }}\n              onKeyDown={(e)=>{\n                if (e.keyCode === 13){\n                  if (roomName.length){\n                    redirect(roomName)\n                  } else alert('RoomName should be 1 character minimum')\n                }\n              }}\n            />\n            <p className={classes.optionLabel} onClick={()=>{\n              if (roomName.length) redirect(roomName)\n            }}>\n              Create\n            </p>\n          </div>\n    )\n}\n\nexport const SettingsComponent = ({ selected }) => {\n    return (\n        <div className={`flex center alignCenter column`} style={selected === 4 ? {display: 'flex'} : {display: 'none'}}>\n            <p>Jorobin & Notraore</p>\n        </div>\n    )\n}\n\nexport const JoinComponent = ({ classes, selected, redirect }) => {\n    const [roomName, handleChange] = useState('')\n\n    return (\n        <div className={`flex center alignCenter column`} style={selected === 2 ? {display: 'flex'} : {display: 'none'}}>\n            <p>\n              Enter existing room name\n            </p>\n            <input\n              className={`${classes.input}`}\n              onChange={(e)=>{\n                handleChange(e.target.value)\n              }}\n              onKeyDown={(e)=>{\n                if (e.keyCode === 13){\n                  if (roomName.length){\n                    redirect(roomName)\n                  }\n                }\n              }}\n            />\n            <p className={classes.optionLabel} onClick={()=>{\n              if (roomName.length) redirect(roomName)\n            }}>\n              Join\n            </p>\n          </div>\n    )\n}\n\nexport const Solo = withStyles(styles)(SoloComponent)\nexport const Create = withStyles(styles)(CreateComponent)\nexport const Settings = withStyles(styles)(SettingsComponent)\nexport const Join = withStyles(styles)(JoinComponent)\n","import io from \"socket.io-client\"\n\nexport const socket = io.connect('http://localhost:3000')","import { socket } from \"./index\"\n\nexport const leaveRoom = () => {\n  socket.emit('leave room')\n}\n\nexport const joinRoom = (name) => {\n  socket.emit('join room', name)\n}\n\nexport const createRoom = (name) => {\n  socket.emit('create room', name)\n}\n\nexport const roomExist = (roomName) => {\n  socket.emit('room exist', roomName, (exist)=>{\n    if (exist === true) joinRoom(roomName)\n    else createRoom(roomName)\n  })\n}\n\nexport const changeUsername = (newUsername) => {\n  socket.emit('set username', newUsername)\n}\n\nexport const sendMessage = (room, message) => {\n  socket.emit('send message', room, message)\n}","import React, { useState, useEffect} from 'react'\nimport { withStyles }  from '@material-ui/styles'\nimport Popup from '../../components/Popup'\nimport OnlineListPopup from '../../components/OnlineListPopup'\nimport _ from 'lodash'\nimport './Menu.css'\nimport '../../styles/animation/text-animations.css'\nimport '../../styles/animation/selectOption.css'\nimport '../../styles/animation/background.css'\nimport {styles, colorArray} from '../../styles/Menu-styles.js'\nimport Title from '../../components/Title.js'\nimport {Option} from '../../components/Option.js'\nimport {Join, Solo, Create, Settings} from '../../components/MenuSubSection'\n\nimport { socket } from '../../sockets'\nimport { changeUsername } from '../../sockets/emits'\n\nconst _shuffleColor = (e) => {\n  let randNum = _.random(0, 7)\n  if (colorArray[randNum] === e.target.style.background){\n    randNum = randNum === 7 ? 0 : randNum += 1\n  }\n  e.target.style.background = colorArray[randNum]\n}\n\nexport const Menu = props => {\n  const {\n    classes,\n    popupInfo,\n    disablePopup,\n    gameState,\n    dispatch\n  } = props\n\n  const [selected, select] = useState(0)\n  const [onHover, setHover] = useState(false)\n  const [onlineList, setOnlineList] = useState(false)\n  const [usernameInput, changeUsernameInput] = useState('')\n  const [tmpPieces, setTmpPieces] = useState(null)\n\n  useEffect(()=>{\n    socket.on('get rand pieces', (rand)=>{\n      setTmpPieces(rand)\n    })\n    socket.emit('get rand pieces')\n    return () => {\n      socket.off('get rand pieces')\n    }\n  }, [])\n\n  const redirect = (room) => {\n    window.location.assign(`#${room}[${gameState.player}]`)\n    window.location.reload()\n  }\n\n  return (\n    <div className=\"App flex center alignCenter\" style={styles.container}>\n      {popupInfo !== null\n        ? <Popup infos={popupInfo} closePopup={disablePopup}/>\n        : null\n      }\n      {onlineList\n        ? <OnlineListPopup users={gameState.onlineUsers} close={setOnlineList} playerId={gameState.playerId}/>\n        : null\n      }\n      <div className={`${classes.centerSubContainer}`}>\n        <Title/>\n        {gameState && gameState.onlineUsers\n          ? <div className={classes.userOnlineLabel} onClick={()=>{setOnlineList(true)}}>\n              Users online: {Object.keys(gameState.onlineUsers).length}\n            </div>\n          : null\n        }\n        <div\n          className={`flex center alignCenter column ${classes.chosen}`}\n          style={selected > 0 ? {display: 'flex'} : {display: 'none'}}\n        >\n          <Join selected={selected} redirect={redirect}/>\n          <Solo selected={selected}  dispatch={dispatch} pieces={tmpPieces}/>\n          <Create selected={selected} redirect={redirect}/>\n          <Settings selected={selected}/>\n          <p onClick={()=>{select(0)}} className={classes.optionLabel}>\n            Return\n          </p>\n        </div>\n        <div\n          className={`flex column center alignCenter`}\n          style={selected > 0 ? {display: 'none', transition: '0.5s ease'} : null}\n        >\n          <div className={`${classes.optionsContainer}`}>\n            <Option selected={selected} name='Solo' select={select} num={1} shuffle={_shuffleColor} />\n            <Option selected={selected} name='Join' select={select} num={2} shuffle={_shuffleColor} />\n            <Option selected={selected} name='Create' select={select} num={3} shuffle={_shuffleColor} />\n          </div>\n          <div className={`flex center ${classes.optionsContainer}`}>\n            <Option selected={selected} name='Credits' select={select} num={4} shuffle={_shuffleColor} />\n          </div>\n        </div>\n        <div\n          className={`flex center alignCenter ${classes.changeUsernameContainer}`}\n          onClick={(e)=>{\n            setHover(true)\n          }}\n        >\n          <p style={{margin: '5px'}}>\n            {`Username:\\n`}\n          </p>\n          <div>\n            {onHover\n              ? <div\n                className={`flex row center alignCenter`}\n                style={{height: '50px', width: '400px'}}\n              >\n              <input\n                id='usernameInput'\n                className={`fullWidth ${classes.input}`}\n                value={usernameInput}\n                autoFocus\n                onKeyDown={(e)=>{\n                  if (e.keyCode === 13){\n                    if (usernameInput.length <= 10 && usernameInput.length > 0){\n                      changeUsername(usernameInput)\n                      setHover(false)\n                    } else alert('Username should be 1 character minimum and 10 characters maximum')\n                  }\n                  if (e.keyCode === 27){\n                    setHover(false)\n                  }\n                }}\n                onChange={(e)=>{changeUsernameInput(e.target.value)}}\n              />\n            </div>\n              : <div\n                className={`flex center alignCenter`}\n                style={{fontSize: '34px', height: '50px', width: '400px', fontFamily: 'Orbitron, sans-serif'}}\n              >\n                {gameState.player}\n              </div>\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default withStyles(styles)(Menu)\n","export const blockSize = 40;\n\nexport const GameStyle = () => ({\ngameInfo: {\n    margin: '10px 0px',\n    alignItem: 'center',\n    // fontWeight: 'bold',\n    fontSize: '20px',\n    color: 'pink',\n    border: '2px solid pink',\n    borderRadius: '10px',\n    padding: '5px 0px',\n    width: '80%'\n\t},\n\tfinishGameTitle: {\n\t\tfontSize: '30px',\n\t\tcolor: 'white',\n\t\tfontWeight: 'bold',\n\t\tpadding: '5px 0px',\n\t\tfontFamily: 'Orbitron, sans-serif',\n\t},\n\tfinishGameInfo: {\n\t\tfontSize: '20px',\n\t\tcolor: 'white',\n\t\tpadding: '5px 0px',\n\t\tfontFamily: 'Orbitron, sans-serif',\n\t},\n    gameOverContainer: {\n        minHeight: '600px',\n        padding: '20px 0px',\n        width: '650px',\n        borderRadius: '10px',\n        backgroundColor: 'pink'\n    },\n    restartLabel: {\n        fontSize: '50px',\n        fontWeight: 'bold',\n        color: 'white',\n        padding: '10px',\n        cursor: 'pointer',\n        '&:hover': {\n            color: 'salmon'\n        }\n    },\n    input:{\n        height: '45px',\n        width: '250px',\n        fontSize: '28px',\n        textAlign: 'center',\n        backgroundColor: 'rgb(47, 49, 64)',\n        border: '3px solid rgb(71, 72, 99)',\n        color: 'white',\n        fontFamily: 'Orbitron, sans-serif',\n        '&:focus': {\n          outline: 'none'\n        }\n      },\n    restartButton: {\n        cursor: 'pointer',\n        '& :active': {\n            transform: `scale(0.9, 0.9)`,\n        }\n    },\n    blockStyle: {\n        backgroundColor: 'pink',\n        width: `${blockSize}px`,\n        height: `${blockSize}px`,\n        border: '1px solid pink'\n    },\n    button: {\n        width: '100%',\n        fontSize: '20px',\n        color: 'white',\n        backgroundColor: 'pink',\n        border: '2px solid pink',\n        borderRadius: '10px',\n        padding: '10px 0px',\n        cursor: 'pointer',\n        margin: 5,\n        marginLeft: 0,\n        '&:hover': {\n            backgroundColor: 'inherit',\n            color: 'pink'\n        }\n    }\n})","export const canFit = (map, tetri) => {\n\tlet res = true\n\n\ttetri.form.forEach((line, y)=>{\n\t\tline.forEach((col, x)=>{\n\t\t\tif (col > 0 && ((!map[tetri.y + y] || (map[tetri.y + y][tetri.x + x] > 0) ||\n\t\t\t\ttetri.x + x > 9 + tetri.rightSpace ||\n\t\t\t\ttetri.x + x < 0 - tetri.leftSpace ||\n\t\t\t\ttypeof map[tetri.y + y][tetri.x + x] === 'undefined'))){\n\t\t\t\t\tres = false\n\t\t\t}\n\t\t})\n\t})\n\treturn res\n}\n","import tab from './pieces.1.json'\nimport { isEmpty } from 'lodash'\n\nexport const initialTetriState = (count, data) => {\n\tlet name = \"T\";\n\tif (!isEmpty(data))\n\t\tname = data[count];\n\tconst tetri = {\n\t\tmaxWidth: tab[name].position[0].maxWidth,\n\t\tmaxHeight: tab[name].position[0].maxHeight,\n\t\th: tab[name].position[0].height,\n\t\ttype: tab[name].type,\n\t\tname: name,\n\t\twidth: tab[name].position[0].width,\n\t\tx: 3,\n\t\ty: 0,\n\t\tleftSpace: tab[name].position[0].leftSpace,\n\t\trightSpace: tab[name].position[0].rightSpace,\n\t\tdownSpace: tab[name].position[0].downSpace,\n\t\trot: 0,\n\t\tform: tab[name].position[0].form,\n\t\tcolor: tab[name].color,\n\t}\n\treturn(tetri)\n}\n\nexport const initialBoardState = () => (\n\t[\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0]\n\t])","import React from 'react'\n\nexport const colorTab = ([\n\t'red',\n\t'blue',\n\t'yellow',\n\t'purple',\n\t'salmon',\n\t'cyan',\n\t'green',\n\t'#ffe5f6'\n])\n\nexport const blockStyle = ({\n\tbackgroundColor: 'pink',\n\tborder: '0.5px solid #3331'\n})\n\nexport const shadowBlockStyle = ({\n\tbackgroundColor: 'pink',\n})\n\nexport const Block = ({empty, color, transparent, blockSize, shadow})=>{\n\treturn (\n\t\t<div\n\t\t\tstyle={!!empty\n\t\t\t\t? shadow\n\t\t\t\t\t? {...shadowBlockStyle, width: `${blockSize}px`, height: `${blockSize}px`}\n\t\t\t\t\t: {...blockStyle,  width: `${blockSize}px`, height: `${blockSize}px`}\n\t\t\t\t: transparent\n\t\t\t\t\t? {...blockStyle, width: `${blockSize}px`, height: `${blockSize} px`, border: '0.5px solid transparent', backgroundColor: 'transparent'}\n\t\t\t\t\t: shadow\n\t\t\t\t\t\t? {...shadowBlockStyle, width: `${blockSize}px`, height: `${blockSize}px`, backgroundColor: 'yellow'}\n\t\t\t\t\t\t: {...blockStyle, width: `${blockSize}px`, height: `${blockSize}px`, border: '0.5px solid white', backgroundColor: `${color}`}\n\t\t\t}\n\t\t/>\n\t)\n}","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\nimport {GameStyle} from '../../styles/Game-style.js'\nimport {Block, colorTab} from '../../components/Block.js'\n\nconst FinishComponent = ({classes, chat, chatInput, setChatInput, level, score, rows, resetGame, gameState, solo, winHeight, returnLobby}) => {\n\tvar shadowBlockSize = Math.trunc(winHeight / 80)\n\treturn (\n\t\t<div className='flex column center alignCenter' style={{height: '100hw'}}>\n\t\t\t<div className={`flex column center alignCenter ${classes.gameOverContainer}`}>\n\t\t\t\t<div className={classes.finishGameTitle}>Game finished !</div>\n\t\t\t\t<div className={classes.finishGameInfo}>Your Score: {score === 0 ? '-' : score}</div>\n\t\t\t\t<div className={classes.finishGameInfo}>Level: {level}</div>\n\t\t\t\t<div className={classes.finishGameInfo}>Rows: {rows === 0 ? '-' : rows}</div>\n\t\t\t\t{gameState.winScore || solo\n\t\t\t\t\t? null\n\t\t\t\t\t: <div>\n\t\t\t\t\t\t\t<div className={classes.finishGameTitle}>still in game:</div>\n\t\t\t\t\t\t\t<div className={'flex row center'} style={{marginTop: '10px'}}>\n\t\t\t\t\t\t\t\t{gameState.playTab && gameState.playTab.map((player, index)=>{\n\t\t\t\t\t\t\t\t\tif (player && player.id !== gameState.playerId) return <div key={index} className={`relative`} style={{padding: '2px'}}>\n\t\t\t\t\t\t\t\t\t\t<div className={classes.finishGameInfo}>{player.username}</div>\n\t\t\t\t\t\t\t\t\t\t{player.shadow && player.shadow.map((line, index)=>{\n\t\t\t\t\t\t\t\t\t\t\t\treturn <div style={{display: 'flex'}} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tline.map((col, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{col > 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? <Block  blockSize={shadowBlockSize} color={colorTab[col - 1]}/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: <Block  blockSize={shadowBlockSize} empty/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t{player.playing\n\t\t\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t\t\t:\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={'absolute flex center alignCenter'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={player.win ? {top: '32px', width: (shadowBlockSize + 1) * 10, height: (shadowBlockSize + 1) * 20, backgroundColor: 'rgba(137, 226, 40, 0.57)'} : {top: '32px', width: (shadowBlockSize + 1) * 10, height: (shadowBlockSize + 1) * 20, backgroundColor: 'rgba(235, 26, 26, 0.48)'}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{player.win\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? <p>Win</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: <p>Over</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\telse return null\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t{solo\n\t\t\t\t?\t<div className={`flex column center alignCenter ${classes.restartButton}`}>\n\t\t\t\t\t<div className={classes.restartLabel} onClick={()=>{resetGame()}}>\n\t\t\t\t\t\tRESTART\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t: null\t\n\t\t\t}\n\t\t\t{gameState.winScore\n\t\t\t\t? <div>\n\t\t\t\t\t\t<div style={{color: '#d8efbb', fontSize: '40px', fontWeight: 'bold'}}>\n\t\t\t\t\t\t\t{gameState.winScore.id === gameState.playerId ? 'You' : gameState.winScore.winner} win !\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{gameState.winScore.id === gameState.playerId\n\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t: <div>Score: {gameState.winScore.score}</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{gameState.endOfGame\n\t\t\t\t?\tgameState.isHost\n\t\t\t\t\t?\t<div className={classes.restartLabel} onClick={()=>{returnLobby()}}>\n\t\t\t\t\t\t\tRETURN LOBBY\n\t\t\t\t\t\t</div>\n\t\t\t\t\t: <div className={classes.finishGameTitle} style={{marginTop: '5px'}}>\n\t\t\t\t\t\tWaiting for host to restart...\n\t\t\t\t\t</div>\n\t\t\t\t: null\n\t\t\t}\n\t\t\t{solo\n\t\t\t\t? null\n\t\t\t\t: <div style={{width: '100%', marginTop: '10px'}}>\n\t\t\t\t\t<p className={classes.chatLabel}>\n\t\t\t\t\t\tChat ↴\n\t\t\t\t\t</p>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid='chatInput'\n\t\t\t\t\t\tclassName={`fullWidth ${classes.input}`}\n\t\t\t\t\t\tstyle={{width: '50%', borderColor: 'white', backgroundColor: 'pink'}}\n\t\t\t\t\t\tvalue={chatInput}\n\t\t\t\t\t\tonKeyDown={(e)=>{\n\t\t\t\t\t\t\tif (e.keyCode === 13){\n\t\t\t\t\t\t\t\tif (chatInput.length > 0){\n\t\t\t\t\t\t\t\t\tchat(chatInput)\n\t\t\t\t\t\t\t\t\tsetChatInput('')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChange={(e)=>{setChatInput(e.target.value)}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default withStyles(GameStyle)(FinishComponent)","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\nimport {Block, colorTab} from '../../components/Block.js'\nimport {GameStyle} from '../../styles/Game-style.js'\n\nconst InGameComponent = ({classes, chat, chatInput, setChatInput, winHeight, winWidth, dispatch, reset, solo, board, gameState, nextTetri, curTetri, score, level, rows, tetri, dropTime}) => {\n\tvar smallSize = winWidth < 650 || winHeight < 800\n\tvar blockSize = smallSize ? 30 : 40\n\tvar shadowBlockSize = Math.trunc(winHeight / 80)\n\t\n\treturn (\n        <div className='flex row fullWidth fullHeight center spaceAround' style={{maxWidth: '800px'}}>\n\t\t\t\t\t<div className={'relative'} style={{top: '25px'}}>\n\t\t\t\t\t\t<div className={'relative'}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tboard.map((line, index)=>{\n\t\t\t\t\t\t\t\t\treturn <div style={{display: 'flex'}} key={index}>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tline.map((col, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{col > 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? <Block  blockSize={blockSize} color={colorTab[col - 1]}/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: <Block  blockSize={blockSize} empty/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={`absolute`}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\ttop: `${blockSize * curTetri.y + curTetri.y}px`,\n\t\t\t\t\t\t\t\t\t\tleft: `${blockSize * curTetri.x + curTetri.x}px`\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttetri.map((line, index)=>{\n\t\t\t\t\t\t\t\t\treturn <div style={{display: 'flex'}} key={index}>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tline.map((col, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{col > 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? <Block blockSize={blockSize} color={curTetri.color}/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: <Block blockSize={blockSize} transparent/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p>{gameState.player}{gameState.isHost ? ' ♛' : null}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'relative flex column alignCenter fullWidth'}>\n\t\t\t\t\t\t\t{solo\n\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t: <div className={`flex center alignCenter column`} style={{marginTop: '20px'}}>\n\t\t\t\t\t\t\t\t\t<div style={{fontSize: '30px', fontWeight: 'bold', color: 'pink'}}>Room</div>\n\t\t\t\t\t\t\t\t\t<p style={{margin: 0, marginTop: '5px'}}>{gameState.room.toUpperCase()}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<div className={`fullWidth flex row center`}>\n\t\t\t\t\t\t\t\t<div style={{fontSize: '30px', fontWeight: 'bold', color: 'pink', marginTop: '20px'}}>Next:</div>\n\t\t\t\t\t\t\t\t<div className={'relative'} style={{top: '10px', padding: '10px', left: blockSize/2}}>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tnextTetri && nextTetri.position[0].form.map((line, index)=>{\n\t\t\t\t\t\t\t\t\t\t\treturn <div style={{display: 'flex'}} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tline.map((col, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{col > 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? <Block blockSize={blockSize / 2} color={nextTetri.color}/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: <Block blockSize={blockSize / 2} transparent/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={'flex column alignCenter relative fullWidth center'}>\n\t\t\t\t\t\t\t\t<div className={classes.gameInfo}>Score: {score === 0 ? '-' : score}</div>\n\t\t\t\t\t\t\t\t<div className={classes.gameInfo}>Level: {level}</div>\n\t\t\t\t\t\t\t\t<div className={classes.gameInfo}>Rows: {rows === 0 ? '-' : rows}</div>\n\t\t\t\t\t\t\t\t<div className={classes.gameInfo}>Speed: {1000 - dropTime === 0 ? 'normal' : `x${1000 - dropTime}`}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={'flex row center'} style={{marginTop: '10px'}}>\n\t\t\t\t\t\t\t\t{\tgameState.playTab && gameState.playTab.map((player, index)=>{\n\t\t\t\t\t\t\t\t\tif (player && player.id !== gameState.playerId) return <div key={index} className={`relative`} style={{padding: '2px'}}>\n\t\t\t\t\t\t\t\t\t\t<div className={classes.finishGameInfo}>{player.username}</div>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tplayer.shadow && player.shadow.map((line, index)=>{\n\t\t\t\t\t\t\t\t\t\t\t\treturn <div style={{display: 'flex'}} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tline.map((col, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{col > 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? <Block blockSize={shadowBlockSize} shadow color={colorTab[col - 1]}/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: <Block blockSize={shadowBlockSize} shadow empty/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t{player.playing\n\t\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t\t:\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={'absolute flex center alignCenter'}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{top: '32px', width: (shadowBlockSize + 1) * 10, height: (shadowBlockSize + 1) * 20, backgroundColor: 'rgba(33,35,46,0.79)'}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Over</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\telse return null\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{solo\n\t\t\t\t\t\t\t\t? <div className='flex column' style={{width: '80%'}}>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\t\tonClick={()=>{reset()}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tRestart\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t\tonClick={()=>{dispatch({type: 'RETURN_MENU'})}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tQuit Game\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t: <div style={{width: '100%', marginTop: '10px'}}>\n\t\t\t\t\t\t\t\t\t<p className={classes.chatLabel}>\n\t\t\t\t\t\t\t\t\t\tChat ↴\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tid='chatInput'\n\t\t\t\t\t\t\t\t\t\tclassName={`fullWidth ${classes.input}`}\n\t\t\t\t\t\t\t\t\t\tstyle={{width: '80%'}}\n\t\t\t\t\t\t\t\t\t\tvalue={chatInput}\n\t\t\t\t\t\t\t\t\t\tonKeyDown={(e)=>{\n\t\t\t\t\t\t\t\t\t\t\tif (e.keyCode === 13){\n\t\t\t\t\t\t\t\t\t\t\t\tif (chatInput.length > 0){\n\t\t\t\t\t\t\t\t\t\t\t\t\tchat(chatInput)\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetChatInput('')\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tonChange={(e)=>{setChatInput(e.target.value)}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t)\n}\n\nexport default withStyles(GameStyle)(InGameComponent)","export const checkPlayerInputs = (canFit, board, setCanMove, refInterval, tab, moveTetri, setGameLoop, event) => {\n\tif (event.keyCode === 39) {//DROITE\n\t\tmoveTetri((tetri)=>{\n\t\t\t\tif (canFit(board, {...tetri, x: tetri.x + 1})) return {...tetri, x: tetri.x + 1}\n\t\t\t\telse return tetri\n\t\t})\n\t}\n\tif (event.keyCode === 37) {//GAUCHE\n\t\tmoveTetri((tetri)=>{\n\t\t\t\tif (canFit(board, {...tetri, x: tetri.x - 1})) return {...tetri, x: tetri.x - 1}\n\t\t\t\telse return tetri\n\t\t})\n\t}\n\tif (event.keyCode === 40) {//BAS\n\t\tclearInterval(refInterval.current)\n\t\trefInterval.current = setGameLoop(30)\n\t}\n\tif (event.keyCode === 32) {//ESPACE\n\t\tsetCanMove(false)\n\t\tclearInterval(refInterval.current)\n\t\trefInterval.current = setGameLoop(15)\n\t}\n\tif (event.keyCode === 38) {//HAUT (rotation)\n\t\tmoveTetri(tetri => {\n\t\t\tconst rot = tetri.rot > 2 ? 0 : tetri.rot + 1\n\t\t\tconst tetriRot = {//tetri potentiel apres rotation demandée\n\t\t\t\t\t...tetri,\n\t\t\t\t\tform: tab[tetri.name].position[rot].form,\n\t\t\t\t\trot: rot,\n\t\t\t\t\th: tab[tetri.name].position[rot].height,\n\t\t\t\t\tleftSpace: tab[tetri.name].position[rot].leftSpace,\n\t\t\t\t\trightSpace: tab[tetri.name].position[rot].rightSpace,\n\t\t\t\t\tdownSpace: tab[tetri.name].position[rot].downSpace,\n\t\t\t\t\tmaxHeight: tab[tetri.name].position[rot].maxHeight,\n\t\t\t\t\tmaxWidth: tab[tetri.name].position[rot].maxWidth,\n\t\t\t\t\twidth: tab[tetri.name].position[rot].width,\n\t\t\t\t\theight: tab[tetri.name].position[rot].height,\n\t\t\t}\n\t\t\tif (canFit(board, tetriRot)){//si ya la place de faire une rotation\n\t\t\t\t\treturn tetriRot\n\t\t\t} else return tetri\n\t\t})\n\t}\n}","import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport tab from '../../components/pieces.1.json'\nimport { withStyles }  from '@material-ui/styles'\nimport {GameStyle} from '../../styles/Game-style.js'\nimport {canFit} from '../../components/canFit.js'\nimport {initialBoardState, initialTetriState} from '../../components/initialState.js'\nimport FinishComponent from './FinishPage.js'\nimport InGameComponent from './InGamePage.js'\nimport { socket } from '../../sockets';\nimport { styles } from '../../styles/Menu-styles.js'\nimport { checkLine, gameLoop, reset } from './checkFunctions.js'\nimport { checkPlayerInputs } from './playerInputs'\n\nconst Game = ({classes, gameState, dispatch, solo, startGame, notify, curUser, chat, chatInput, setChatInput}) => {\n\tconst [counter, increment] = useState(0)\n\tconst [gameOver, overGame] = useState(false)\n\tconst [board, updateBoard] = useState(initialBoardState())\n\tconst [curTetri, moveTetri] = useState(initialTetriState(0, gameState.pieces));\n\tconst [score, updateScore] = useState(0)\n\tconst [canMove, setCanMove] = useState(true)\n\tconst [screenY, setScreenY] = useState(0)\n\tconst [screenX, setScreenX] = useState(0)\n\tconst [canAddLine, setLineAdd] = useState(true)\n\tconst [tmpLineDel, setTmpLineDel] = useState(0)\n\tconst [nextTetri, setNext] = useState(null);\n\n\tconst [rows, setRows] = useState(0)\n\tconst [level, setLevel] = useState(0)\n\tconst [dropTime, setDropTime] = useState(1000)\n\tconst refInterval = useRef(false)\n\tconst keyDown = useRef(false)\n\n\tuseEffect(() =>{\n\t\tif (gameState.pieces && gameState.pieces[1]) setNext(tab[gameState.pieces[1]])\n\t\tsocket.on(\"player win\", (action) => {\n\t\t\tnotify.success(`${ action.winScore.id === socket.id\n\t\t\t\t? \"You\"\n\t\t\t\t: action.winScore.winner\n\t\t\t} win !`)\n\t\t\tdispatch(action)\n\t\t})\n\t\tif (!solo) {\n\t\t\tsocket.on('return lobby', dispatch)\n\t\t\tsocket.on('receive player shadow', dispatch)\n\t\t\tsocket.on(\"user game over\", (name, action) => {\n\t\t\t\tnotify.info(`${name} finished !`)\n\t\t\t\tdispatch(action)\n\t\t\t})\n\t\t}\n\t\telse socket.on('solo update', dispatch)\n\t\treturn () => {\n\t\t\tsocket.off('opponent line block')\n\t\t\tsocket.off('receive player shadow')\n\t\t\tsocket.off('solo update')\n\t\t\tsocket.off(\"player win\")\n\t\t\tsocket.off(\"user game over\")\n\t\t}\n\t}, []);\n\n\tuseEffect(()=>{\n\t\tif (!gameOver && gameState.gameStarted && gameState.playing) socket.emit('emit board state', board, gameState.room)\n\t\tif (canAddLine === true && tmpLineDel){\n\t\t\tupdateBoard((old)=>{\n\t\t\t\tfor (var n = 0; n < tmpLineDel; n++){\n\t\t\t\t\told.splice(0, 1) \n\t\t\t\t\told.splice(19, 0, [8,8,8,8,8,8,8,8,8,8])\n\t\t\t\t}\n\t\t\t\treturn old\n\t\t\t})\n\t\t\tsetTmpLineDel(0)\n\t\t}\n\t}, [tmpLineDel, canAddLine])\n\n\tuseEffect(() =>{\n\t\tif (JSON.stringify(board) === JSON.stringify(initialBoardState()) && counter === 0 && curTetri.y === 0){\n\t\t\tsocket.on(\"opponent line block\", (num) => {\n\t\t\t\tsetTmpLineDel(tmpLineDel + num)\n\t\t\t})\n\t\t}\n\t}, [counter, board])\n\n\tuseEffect(() =>{\n\t\tif (!solo) socket.emit('emit board state', board, gameState.room)\n\t\tif (gameState.pieces && counter + 5  > gameState.pieces.length){\n\t\t\tsocket.emit('add pieces', gameState.room)\n\t\t}\n\t}, [counter])\n\n\tuseEffect(() => {\n\t\tif (JSON.stringify(board) === JSON.stringify(initialBoardState()) &&\n\t\t (counter > 0 || curTetri.y > 0)){\n\t\t\treset(increment, updateScore, setLevel, setRows, setDropTime,\n\t\t\t\tmoveTetri, initialTetriState, gameState.pieces, tab, overGame, setNext)\n\t\t}\n\t}, [board, counter, nextTetri])\n\n\tconst resetGame = () => {\n\t\tupdateBoard(initialBoardState())\n\t}\n\n\tconst setGameOver = () => {\n\t\tif (!solo) socket.emit('user game over', gameState.room, score)\n\t\toverGame(true)\n\t}\n\n\tconst setGameLoop = useCallback((speed) => {\n\t\tif (keyDown.current && keyDown.current.keyCode === 32) speed = 15\n\t\treturn setInterval(() => {\n\t\t\tgameLoop(moveTetri, canFit, setCanMove, keyDown,\n\t\t\t\tclearInterval, updateBoard, initialTetriState, increment,\n\t\t\t\t setNext, setGameOver, board, refInterval, counter, gameState.pieces, tab, setLineAdd)\n\t\t}, speed)\n\t}, [board, counter, gameState.pieces])\n\n\tconst keydownFunc = event => {\n\t\tif ((keyDown.current && (keyDown.current.keyCode === 38 ||\n\t\t\t keyDown.current.keyCode === 32 ||\n\t\t\t\tkeyDown.current.keyCode === 40)) ||\n\t\t\t\t !canMove) return\n\t\tkeyDown.current = event\n\t\tcheckPlayerInputs(canFit, board, setCanMove, refInterval,\n\t\t\t tab, moveTetri, setGameLoop, event)\n\t}\n\n\tconst keyUpFunc = event => {\n\t\tif (event.keyCode === 40 && canMove){\n\t\t\tclearInterval(refInterval.current)\n\t\t\trefInterval.current = setGameLoop(dropTime)\n\t\t}\n\t\tif (event.keyCode != 32 && canMove){\n\t\t\tkeyDown.current = null\n\t\t}\n\t}\n\n\tconst removeListener = () => {\n\t\tdocument.removeEventListener(\"keydown\", keydownFunc)\n\t\tdocument.removeEventListener(\"keyup\", keyUpFunc)\n\t}\n\n\tuseEffect(() => {\n\t\trefInterval.current = setGameLoop(dropTime)\n\t\t\tif (gameOver) clearInterval(refInterval.current)\n\t\t\treturn () => {\n\t\t\t\tclearInterval(refInterval.current)\n\t\t\t}\n\t\t}, [counter, gameOver, dropTime, setGameLoop])\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener(\"keydown\", keydownFunc)\n\t\tdocument.addEventListener(\"keyup\", keyUpFunc)\n\t\tif (gameOver) removeListener()\n\t\treturn () => removeListener()\n\t}, [counter, gameOver])\n\n\tconst displayUpdate = (rows, len) => {\n\t\tconst pointTab = [40, 100, 300, 1200]\n\t\tupdateScore((score) => {return score + (pointTab[len - 1])})\n\t\tsetRows((rows) =>{\n\t\t\tlet total = rows + len\n\t\t\tlet calcLvl = Math.trunc(total / 10)\n\t\t\tif (calcLvl > level && calcLvl < 5){\n\t\t\t\tsetLevel(() => {\n\t\t\t\t\tsetDropTime(200 * (5 - calcLvl))\n\t\t\t\t\treturn calcLvl\n\t\t\t\t})\n\t\t\t}\n\t\t return rows + len\t\n\t\t});\n\t}\n\n\tconst returnLobby = ()=>{\n\t\tsocket.emit('return lobby', gameState.room)\n\t}\n\n\tconst emitLinesToOpponents = (num) => {\n\t\tsocket.emit('block opponents line', num, gameState.room)\n\t}\n\n\tuseEffect(() => {\n\t\t\tcheckLine(board, displayUpdate, rows, updateBoard, emitLinesToOpponents)\n\t})\n\n\tuseEffect(() => {\n\t\tsetScreenY(window.innerHeight)\n\t\tsetScreenX(window.innerWidth)\n\t}, [window.innerHeight, window.innerWidth])\n\n\tconst tetri = curTetri.form\n\n\treturn (\n\t\t<div className=\"App fullHeight fullWidth flex center alignCenter\" style={styles.container}>\n\t\t\t\t{gameOver || !gameState.gameStarted || !gameState.playing\n\t\t\t\t\t? <FinishComponent\n\t\t\t\t\t\tlevel={level}\n\t\t\t\t\t\tscore={score}\n\t\t\t\t\t\trows={rows}\n\t\t\t\t\t\tresetGame={resetGame}\n\t\t\t\t\t\tgameState={gameState}\n\t\t\t\t\t\twinHeight={screenY}\n\t\t\t\t\t\tsolo={solo}\n\t\t\t\t\t\tstartGame={startGame}\n\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\treturnLobby={returnLobby}\n\t\t\t\t\t\tchat={chat}\n\t\t\t\t\t\tchatInput={chatInput}\n\t\t\t\t\t\tsetChatInput={setChatInput}\n\t\t\t\t\t\t/>\n\t\t\t\t\t: <InGameComponent\n\t\t\t\t\t\twinHeight={screenY}\n\t\t\t\t\t\twinWidth={screenX}\n\t\t\t\t\t\tlevel={level}\n\t\t\t\t\t\tscore={score}\n\t\t\t\t\t\trows={rows}\n\t\t\t\t\t\tboard={board}\n\t\t\t\t\t\tgameState={gameState}\n\t\t\t\t\t\tnextTetri={nextTetri}\n\t\t\t\t\t\tcurTetri={curTetri}\n\t\t\t\t\t\ttetri={tetri}\n\t\t\t\t\t\tdropTime={dropTime}\n\t\t\t\t\t\tsolo={solo}\n\t\t\t\t\t\treset={resetGame}\n\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\tcurUser={curUser}\n\t\t\t\t\t\tchat={chat}\n\t\t\t\t\t\tchatInput={chatInput}\n\t\t\t\t\t\tsetChatInput={setChatInput}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t</div>\n\t)\n}\n\nexport default withStyles(GameStyle)(Game)","export const removeLine = (num, updateBoard, board) => {\n\tupdateBoard((old)=>{\n\t\tnum.map((n)=>{\n\t\t\tboard.splice(n, 1) \n\t\t\tboard.splice(0, 0, [0,0,0,0,0,0,0,0,0,0])\n\t\t\treturn num \n\t\t})\n\t\treturn old\n\t})\n}\n\nexport const checkLine = (board, displayUpdate, rows, updateBoard, emitLinesToOpponents) => {\n\tlet lines = []\n\tboard.map((line, y)=>{\n\t\tif (line.every((num) => {return num > 0 && num < 8})){\n\t\t\tlines.push(y)\n\t\t}\n\t\treturn true\n\t})\n\tif (lines.length){\n\t\tremoveLine(lines, updateBoard, board)\n\t\tdisplayUpdate(rows, lines.length)\n\t\temitLinesToOpponents(lines.length)\n\t}\n}\n\nexport const gameLoop = (moveTetri, canFit, setCanMove, keyDown,\n\t clearInterval, updateBoard, initialTetriState, increment,\n\t  setNext, setGameOver, board, refInterval, counter, data, tab, setLineAdd) => {\n\tmoveTetri((tetri)=>{\n\t\tif (!canFit(board, {...tetri, y: tetri.y + 3})) setLineAdd(false)\n\t\tif (!canFit(board, {...tetri, y: tetri.y + 1})){\n\t\t\tsetCanMove(true)\n\t\t\tkeyDown.current = null\n\t\t\tclearInterval(refInterval.current)\n\t\t\tupdateBoard((old)=>{\n\t\t\t\ttetri.form.forEach((line, y)=>{\n\t\t\t\t\tline.forEach((col, x)=>{\n\t\t\t\t\t\tif (tetri.form[y][x] > 0){\n\t\t\t\t\t\t\told[tetri.y + y][tetri.x + x] = tetri.form[y][x]\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\treturn old\n\t\t\t})\n\t\t\tsetLineAdd(true)\n\t\t\tconst t = initialTetriState(counter + 1, data);\n\t\t\tincrement((i)=>{\n\t\t\t\tif (data && data[i+2]) setNext(tab[data[i+2]])\n\t\t\t\treturn i+1\n\t\t\t})\n\t\t\tif (t === false || !canFit(board, t)){\n\t\t\t\tsetGameOver()\n\t\t\t\treturn tetri\n\t\t\t} else return t\n\t\t}\n\t\telse return {...tetri, y: tetri.y + 1}\n\t})\n}\n\nexport const reset = (increment, updateScore, setLevel, setRows, setDropTime,\n\t moveTetri, initialTetriState, data, tab, overGame, setNext) => {\n\tincrement(0)\n\tupdateScore(0)\n\tsetLevel(0)\n\tsetRows(0)\n\tsetDropTime(1000);\n\tmoveTetri(initialTetriState(0), data);\n\tif (data && data[1]) setNext(tab[data[1]])\n\telse setNext(null)\n\toverGame(false)\n}","import React, {useEffect, useState} from 'react'\nimport { styles } from '../../styles/Menu-styles.js'\nimport { leaveRoom, sendMessage } from '../../sockets/emits.js'\nimport Loader from 'react-dots-loader'\nimport 'react-dots-loader/index.css'\nimport { socket } from '../../sockets'\nimport { withStyles } from '@material-ui/styles'\nimport Game from '../Game/Game.js'\n\nexport const Multi = ({ classes, gameState, dispatch, notify, solo }) => {\n\tconst [chatInput, setChatInput] = useState('')\n\n\tvar userId = gameState.playerId\n\tvar curUser = {}\n\n\tgameState.playTab && gameState.playTab.forEach((user)=>{\n\t\tif (user && user.id === userId){\n\t\t\tcurUser = user\n\t\t}\n\t})\n\n\tconst startGame = () => {\n\t\tsocket.emit('start game', gameState.room)\n\t}\n\n\tconst chat = (message) =>{\n\t\tsendMessage(gameState.room, message)\n\t}\n\n\tconst setSockets = () => {\n\t\tsocket.on('room update', dispatch)\n\t\tsocket.on('become host', dispatch)\n\t\tsocket.on('new message', (data)=>{\n\t\t\tnotify(`${data.sender}: ${data.message}`)\n\t\t})\n\t\tsocket.on('new host', (name)=>{\n\t\t\tnotify.info(`${name} is now hosting !`)\n\t\t})\n\t\tsocket.on('user joined room', (name)=>{\n\t\t\tnotify.info(`${name} joined room ${gameState.room}!`)\n\t\t})\n\t\tsocket.on('user exited room', (name)=>{\n\t\t\tnotify.info(`${name} exited room ${gameState.room}`)\n\t\t})\n\t\tsocket.on('host started game', (action) => {\n\t\t\tnotify.info('Game started!')\n\t\t\tdispatch(action)\n\t\t})\n\t\tsocket.emit('room infos')\n\t}\n\n\tconst unsetSockets = () => {\n\t\tsocket.off('room update')\n\t\tsocket.off('become host')\n\t\tsocket.off('new host')\n\t\tsocket.off('host started game')\n\t\tsocket.off('user joined room')\n\t\tsocket.off('user exited room')\n\t}\n\n\tuseEffect(()=> {\n\tif (!solo) setSockets()\n\t\treturn () => {\n\t\t\tif (!solo) unsetSockets()\n\t\t}\n\t}, [])\n\n\treturn (\n\t <div className='fullWidth fullHeight'>\n\t\t{gameState.gameStarted\n\t\t\t? <Game\n\t\t\t\t\tgameState={gameState}\n\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\tsolo={solo}\n\t\t\t\t\tstartGame={startGame}\n\t\t\t\t\tnotify={notify}\n\t\t\t\t\tchat={chat}\n\t\t\t\t\tchatInput={chatInput}\n\t\t\t\t\tsetChatInput={setChatInput}\n\t\t\t\t/>\n\t\t\t: <div>\n\t\t\t\t\t<div\n\t\t\t\t\tclassName={`${classes.returnMenuButton} navigationBar fullWidth flex center alignCenter`}\n\t\t\t\t\tonClick={()=>{\n\t\t\t\t\t\tleaveRoom()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<p>RETURN MENU</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"App\" style={styles.container}>\n\t\t\t\t\t<p align=\"center\">\n\t\t\t\t\t\t{ curUser.gameHost\n\t\t\t\t\t\t\t? \"Waiting for players\"\n\t\t\t\t\t\t\t: \"Waiting for host to start the game\"\n\t\t\t\t\t\t}\n\t\t\t\t\t</p>\n\t\t\t\t\t<Loader color=\"white\"/>\n\t\t\t\t\t<p>Room : {gameState.room}</p>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={classes.listUsernameLabel}>\n\t\t\t\t\t\t\tPlayers in this room :\n\t\t\t\t\t\t</div> \n\t\t\t\t\t{ \n\t\t\t\t\t\tgameState.playTab && gameState.playTab.map((user, index) => {\n\t\t\t\t\t\t\treturn user\n\t\t\t\t\t\t\t\t? <div className={`flex center alignCenter row`} key={index}>\n\t\t\t\t\t\t\t\t<div className={classes.listUsernameLabel}>\n\t\t\t\t\t\t\t\t\t{user.username}{user.gameHost ? ' ♛' : ''}{user.id === gameState.playerId ? ' (you)' : ''}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t: <div key={index}/>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t{ curUser.gameHost && gameState.playTab && gameState.playTab.length > 1\n\t\t\t\t\t\t?\t<div\n\t\t\t\t\t\t\t\tclassName={`flex center alignCenter ${classes.startButton}`}\n\t\t\t\t\t\t\t\tonClick={()=>{startGame()}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSTART\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t: curUser.gameHost\n\t\t\t\t\t\t\t? <p>No opponent yet... Invite your friends or play Solo</p>\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t\t{gameState.playTab && gameState.playTab.length > 1\n\t\t\t\t\t\t?\t<div className={``} style={{width: '80%', maxWidth: '400px', marginTop: '10px'}}>\n\t\t\t\t\t\t\t<p className={classes.chatLabel}>\n\t\t\t\t\t\t\t\tSay Something ↴\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid='chatInput'\n\t\t\t\t\t\t\t\tclassName={`fullWidth ${classes.input}`}\n\t\t\t\t\t\t\t\tstyle={{width: '100%'}}\n                value={chatInput}\n                autoFocus\n                onKeyDown={(e)=>{\n                  if (e.keyCode === 13){\n                    if (chatInput.length > 0){\n\t\t\t\t\t\t\t\t\t\t\tchat(chatInput)\n\t\t\t\t\t\t\t\t\t\t\tsetChatInput('')\n                    }\n                  }\n                }}\n                onChange={(e)=>{setChatInput(e.target.value)}}\n              />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t}\n\t</div>\n\t)\n}\n\nexport default withStyles(styles)(Multi)","export const GET_USER_INFOS = 'GET_USER_INFOS'\nexport const SET_USERNAME = 'SET_USERNAME'\nexport const ROOM_LEAVED = 'ROOM_LEAVED'\nexport const ROOM_JOINED = 'ROOM_JOINED'\nexport const ROOM_UPDATE = 'ROOM_UPDATE'\nexport const START_GAME = 'START_GAME'\nexport const END_GAME = 'END_GAME'\nexport const UPDATE_OPPONENTS = 'UPDATE_OPPONENTS'\nexport const USER_CONNECTED = 'USER_CONNECTED'\nexport const PLAYER_WIN = 'PLAYER_WIN'\nexport const RETURN_MENU = 'RETURN_MENU'\nexport const SOLO_UPDATE = 'SOLO_UPDATE'\nexport const BECOME_HOST = 'BECOME_HOST'\n\nexport const initialState = {\n\troom: null,\n\tnbPlayer: null,\n\tplayer: null,\n\tplayerId: null,\n\tisInGame: false,\n\tgameStarted: false,\n\tisWaiting: false,\n\tisHost: false,\n\tplayTab: [],\n\tshadows: null,\n\tonlineUsers: null,\n\tendOfGame: false,\n\twinScore: null,\n\tplaying: false,\n\tpieces: null\n}\n\nexport const gameReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase GET_USER_INFOS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayer: action.player,\n\t\t\t\tplayerId: action.playerId,\n\t\t\t\tisInGame: action.isInGame,\n\t\t\t\tonlineUsers: action.onlineUsers,\n\t\t\t}\n\t\tcase USER_CONNECTED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tonlineUsers: action.onlineUsers,\n\t\t\t}\n\t\tcase UPDATE_OPPONENTS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayTab: action.playTab\n\t\t\t}\n\t\tcase SET_USERNAME:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayer: action.player\n\t\t\t}\n\t\tcase BECOME_HOST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisHost: true\n\t\t\t}\n\t\tcase ROOM_JOINED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\troom: action.room,\n\t\t\t\tisInGame: true,\n\t\t\t\tisHost: action.isHost,\n\t\t\t\tplayTab: action.playerTab,\n\t\t\t\tplaying: action.gameStarted ? false : true,\n\t\t\t\tgameStarted: typeof action.isHost === 'boolean' ? action.gameStarted : state.gameStarted,\n\t\t\t\tisWaiting: true\n\t\t\t}\n\t\tcase ROOM_LEAVED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\troom: null,\n\t\t\t\tisInGame: false,\n\t\t\t\tisHost: false\n\t\t\t}\n\t\tcase PLAYER_WIN:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayTab: action.playerTab,\n\t\t\t\tendOfGame: true,\n\t\t\t\twinScore: action.winScore\n\t\t\t}\n\t\tcase ROOM_UPDATE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayTab: action.playerTab,\n\t\t\t\tgameStarted: typeof action.isHost === 'boolean' ? action.gameStarted : state.gameStarted,\n\t\t\t\tisHost: typeof action.isHost === 'boolean' ? action.isHost : state.isHost,\n\t\t\t\tpieces: action.pieces ? action.pieces : state.pieces,\n\t\t\t}\n\t\tcase START_GAME:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tendOfGame: false,\n\t\t\t\tgameStarted: true,\n\t\t\t\tplaying: true,\n\t\t\t\tisInGame: true,\n\t\t\t\tpieces: action.pieces,\n\t\t\t\twinScore: action.winScore,\n\t\t\t\tplayTab: action.playerTab,\n\t\t\t\tnbPlayer: action.nbPlayer\n\t\t\t}\n\t\tcase SOLO_UPDATE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpieces: state.pieces.concat(action.newPieces)\n\t\t\t}\n\t\tcase RETURN_MENU:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisInGame: false,\n\t\t\t\tisWaiting: false,\n\t\t\t\tgameStarted: false\n\t\t\t}\n\t\tcase END_GAME:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tgameStarted: true,\n\t\t\t\tplayTab: action.playerTab,\n\t\t\t\tisWaiting: true\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './src/index.css'\nimport './src/styles/fonts.css'\nimport './src/styles/patterns.css'\nimport { App } from './src/App.js'\nimport * as serviceWorker from './src/serviceWorker';\nimport { equals, length, dropLast, indexOf, drop, isNil} from 'ramda'\nimport { roomExist, changeUsername } from './src/sockets/emits'\n\nconst getRoomName = (hash) => {\n\tconst endOfWord = indexOf('[', hash) >= 0 ? indexOf('[', hash) : length(hash)\n\tconst toCut = length(hash) - endOfWord\n\n\tif(indexOf('#', hash) < 0)\n\t\t\treturn undefined\n\tconst roomName = drop(1, dropLast(toCut, hash))\n\tif(equals(length(roomName), 0))\n\t\t\treturn undefined\n\treturn roomName\n}\n\nconst getUser = (hash) => {\n\tconst toCut = indexOf('[', hash) + 1\n\n\tif(toCut === 0)\n\t\t\treturn undefined\n\tconst user = dropLast(1, drop(toCut, hash))\n\tif(equals(length(user) ,0))\n\t\t\treturn undefined\n\treturn user\n}\n\nconst url = new URL(window.location.href)\nconst roomName = getRoomName(url.hash)\nconst user = getUser(url.hash)\n\nif (!isNil(roomName) && !isNil(user)){\n\tchangeUsername(user)\n\troomExist(roomName)\n}\n\nReactDOM.render(<div style={{height: '100vh', backgroundColor: 'rgb(33, 35, 46)'}}><App /></div>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { useEffect, useState, useReducer, Fragment } from 'react'\nimport Menu from './containers/Menu' \nimport Multi from './containers/Multi'\nimport { socket } from './sockets'\nimport { gameReducer, initialState } from './reducers/reducer.js'\nimport { ToastContainer, toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\n\nexport const App = props => {\n\tconst [popupInfo, setPopupInfo] = useState(null)\n  const [gameState, dispatch] = useReducer(gameReducer, initialState)\n\n\tconst disablePopup = () => {\n\t\tsetPopupInfo(null)\n\t}\n\n\tconst updateGameState = (action) => {\n\t\tdispatch(action)\n\t}\n\n\tconst setListenners = () => {\n\t\tsocket.io.on('connect_error', function(err) {\n\t\t\ttoast.error('Socket connexion lose. Please refresh page')\n\t\t})\n\t\tsocket.on('get user infos', dispatch)\n\t\tsocket.on('user connected', dispatch)\n\t\tsocket.on('user disconnected', dispatch)\n\t\tsocket.on('get online users', dispatch)\n\t\tsocket.on('room joined', (data)=>{\n\t\t\tdispatch(data)\n\t\t})\n\t\tsocket.on('room leaved', dispatch)\n\t\tsocket.on('username set', dispatch)\n\t\tsocket.on('info popup', setPopupInfo)\n\t}\n\tuseEffect(()=>{\n\t\tif (gameState.isInGame === false) socket.emit('user connect')\n\t}, [gameState.isInGame])\n\n\tuseEffect(()=>{\n\t\tsetListenners()\n\t\tsocket.emit('user connect')\n\t}, [])\n\n\treturn(\n\t\t<Fragment>\n\t\t<ToastContainer\n\t\t\tposition=\"top-right\"\n\t\t\tautoClose={4000}\n\t\t\thideProgressBar={true}\n\t\t\tnewestOnTop={false}\n\t\t\tcloseOnClick={false}\n\t\t\trtl={false}\n\t\t\tpauseOnVisibilityChange\n\t\t\tdraggable={false}\n\t\t\tpauseOnHover={true}\n\t\t/>\n\t\t{gameState.isInGame\n\t\t\t? <Multi\n\t\t\t\tsolo={gameState.nbPlayer === 1}\n\t\t\t\tgameState={gameState}\n\t\t\t\tnotify={toast}\n\t\t\t\tdispatch={updateGameState}\n\t\t\t/>\n\t\t\t: <Menu\n\t\t\t\t\tgameState={gameState}\n\t\t\t\t\tdispatch={updateGameState}\n\t\t\t\t\tnotify={toast}\n\t\t\t\t\tpopupInfo={popupInfo}\n\t\t\t\t\tdisablePopup={disablePopup}\n\t\t\t\t/>\n\t\t}\n\t\t</Fragment>\n\t)\n}","module.exports = __webpack_public_path__ + \"static/media/blue-tetrimino.cde48510.png\";"],"sourceRoot":""}