(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e){e.exports={I:{color:"red",position:[{rightSpace:0,leftSpace:0,downSpace:2,maxHeight:2,maxWidth:4,width:[0,4,0,0],height:[2,2,2,2],form:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]]},{rightSpace:2,leftSpace:1,downSpace:0,maxHeight:4,width:[2,2,2,2],maxWidth:2,height:[0,4,0,0],form:[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]]},{rightSpace:0,leftSpace:0,maxWidth:4,downSpace:1,width:[0,0,4,0],height:[3,3,3,3],maxHeight:3,form:[[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0]]},{rightSpace:1,leftSpace:2,maxHeight:4,downSpace:0,width:[3,3,3,3],maxWidth:3,height:[0,0,4,0],form:[[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]]}]},O:{color:"blue",position:[{rightSpace:1,maxHeight:2,leftSpace:1,width:[3,3,0,0],maxWidth:3,downSpace:2,height:[0,2,2,0],form:[[0,2,2,0],[0,2,2,0],[0,0,0,0],[0,0,0,0]]},{rightSpace:1,maxWidth:3,leftSpace:1,downSpace:2,width:[3,3,0,0],maxHeight:2,height:[0,2,2,0],form:[[0,2,2,0],[0,2,2,0],[0,0,0,0],[0,0,0,0]]},{height:[0,2,2,0],rightSpace:1,leftSpace:1,width:[3,3,0,0],maxWidth:3,maxHeight:2,downSpace:2,form:[[0,2,2,0],[0,2,2,0],[0,0,0,0],[0,0,0,0]]},{height:[0,2,2,0],width:[3,3,0,0],maxWidth:3,rightSpace:1,leftSpace:1,maxHeight:2,downSpace:2,form:[[0,2,2,0],[0,2,2,0],[0,0,0,0],[0,0,0,0]]}]},T:{color:"yellow",position:[{rightSpace:1,leftSpace:0,maxWidth:3,height:[2,2,2,0],width:[2,3,0,0],maxHeight:2,downSpace:2,form:[[0,3,0,0],[3,3,3,0],[0,0,0,0],[0,0,0,0]]},{rightSpace:1,leftSpace:1,height:[0,3,2,0],width:[2,3,2,0],maxWidth:3,downSpace:1,maxHeight:3,form:[[0,3,0,0],[0,3,3,0],[0,3,0,0],[0,0,0,0]]},{rightSpace:1,leftSpace:0,height:[2,3,2,0],maxWidth:3,maxHeight:3,width:[0,3,2,0],downSpace:1,form:[[0,0,0,0],[3,3,3,0],[0,3,0,0],[0,0,0,0]]},{rightSpace:2,leftSpace:0,width:[2,3,2,0],maxWidth:3,height:[2,3,0,0],maxHeight:3,downSpace:1,form:[[0,3,0,0],[3,3,0,0],[0,3,0,0],[0,0,0,0]]}]},L:{color:"purple",position:[{rightSpace:1,leftSpace:0,maxHeight:2,width:[3,3,0,0],maxWidth:3,height:[2,2,2,0],downSpace:2,form:[[0,0,4,0],[4,4,4,0],[0,0,0,0],[0,0,0,0]]},{rightSpace:1,leftSpace:1,height:[0,3,3,0],maxHeight:3,maxWidth:3,width:[2,2,3,0],downSpace:1,form:[[0,4,0,0],[0,4,0,0],[0,4,4,0],[0,0,0,0]]},{rightSpace:1,maxHeight:3,leftSpace:0,downSpace:1,maxWidth:3,width:[0,3,1,0],height:[3,2,2,0],form:[[0,0,0,0],[4,4,4,0],[4,0,0,0],[0,0,0,0]]},{rightSpace:2,leftSpace:0,maxHeight:3,maxWidth:2,width:[2,2,2,0],height:[1,3,0,0],downSpace:1,form:[[4,4,0,0],[0,4,0,0],[0,4,0,0],[0,0,0,0]]}]},J:{color:"salmon",position:[{rightSpace:1,leftSpace:0,height:[2,2,2,0],maxHeight:2,width:[1,3,0,0],maxWidth:3,downSpace:2,form:[[5,0,0,0],[5,5,5,0],[0,0,0,0],[0,0,0,0]]},{rightSpace:1,leftSpace:1,maxHeight:3,maxWidth:3,height:[0,3,1,0],width:[3,2,2,0],downSpace:1,form:[[0,5,5,0],[0,5,0,0],[0,5,0,0],[0,0,0,0]]},{rightSpace:1,leftSpace:0,width:[0,3,3,0],height:[2,2,3,0],maxWidth:3,maxHeight:3,downSpace:1,form:[[0,0,0,0],[5,5,5,0],[0,0,5,0],[0,0,0,0]]},{rightSpace:2,leftSpace:0,maxWidth:2,maxHeight:3,width:[2,2,2,0],height:[3,3,0,0],downSpace:1,form:[[0,5,0,0],[0,5,0,0],[5,5,0,0],[0,0,0,0]]}]},Z:{color:"cyan",position:[{rightSpace:1,leftSpace:0,height:[1,2,2,0],maxHeight:2,width:[2,3,0,0],maxWidth:3,downSpace:2,form:[[6,6,0,0],[0,6,6,0],[0,0,0,0],[0,0,0,0]]},{rightSpace:1,maxWidth:3,leftSpace:1,width:[3,3,2,0],maxHeight:3,height:[0,3,2,0],downSpace:1,form:[[0,0,6,0],[0,6,6,0],[0,6,0,0],[0,0,0,0]]},{rightSpace:1,maxWidth:3,leftSpace:0,maxHeight:3,width:[0,2,3,0],height:[2,3,3,0],downSpace:1,form:[[0,0,0,0],[6,6,0,0],[0,6,6,0],[0,0,0,0]]},{rightSpace:2,leftSpace:0,maxWidth:2,maxHeight:3,width:[2,2,1,0],height:[3,2,0,0],downSpace:1,form:[[0,6,0,0],[6,6,0,0],[6,0,0,0],[0,0,0,0]]}]},S:{color:"green",position:[{rightSpace:1,leftSpace:0,height:[2,2,1,0],width:[3,2,0,0],maxHeight:2,maxWidth:3,downSpace:2,form:[[0,7,7,0],[7,7,0,0],[0,0,0,0],[0,0,0,0]]},{rightSpace:1,leftSpace:1,maxHeight:3,height:[0,2,3,0],width:[2,3,3,0],maxWidth:3,downSpace:1,form:[[0,7,0,0],[0,7,7,0],[0,0,7,0],[0,0,0,0]]},{rightSpace:1,leftSpace:0,maxWidth:3,maxHeight:3,width:[0,3,2,0],height:[3,3,2,0],downSpace:1,form:[[0,0,0,0],[0,7,7,0],[7,7,0,0],[0,0,0,0]]},{rightSpace:2,leftSpace:0,maxWidth:2,width:[1,1,2,0],maxHeight:3,height:[2,3,0,0],downSpace:1,form:[[7,0,0,0],[7,7,0,0],[0,7,0,0],[0,0,0,0]]}]}}},48:function(e,t,n){e.exports=n(88)},5:function(e){e.exports={pieces:["I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I","I"]}},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},85:function(e,t){},88:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(39),i=n.n(o),c=(n(53),n(54),n(55),n(13)),p=n(2),l=n(5),h=n(1),m=n(97);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=["red","blue","yellow","purple","salmon","cyan","green"],u={backgroundColor:"pink",width:"".concat(40,"px"),height:"".concat(40,"px"),border:"0.5px solid #3331"},s=function(e){var t=e.empty,n=e.color,a=e.transparent;return r.a.createElement("div",{style:t?d({},u):d({},u,a?{border:"0.5px solid transparent",backgroundColor:"transparent"}:{border:"0.5px solid white",backgroundColor:"".concat(n)})})},g=function(e,t){var n=!0;return t.form.map(function(a,r){a.map(function(a,o){a>0&&(!e[t.y+r]||e[t.y+r][t.x+o]>0||t.x+o>9+t.rightSpace||t.x+o<0-t.leftSpace||"undefined"===typeof e[t.y+r][t.x+o])&&(n=!1)})}),n},x=function(e){var t=l.pieces[e];return{maxWidth:h[t].position[0].maxWidth,maxHeight:h[t].position[0].maxHeight,h:h[t].position[0].height,type:h[t].type,name:t,width:h[t].position[0].width,x:3,y:0,leftSpace:h[t].position[0].leftSpace,rightSpace:h[t].position[0].rightSpace,downSpace:h[t].position[0].downSpace,rot:0,form:h[t].position[0].form,color:h[t].color}},S=n(6),w=n(7);function b(){var e=Object(S.a)(["\n\tfont-size: ",";\n\talign-item: center;\n\tfont-weight: bold;\n\tcolor: salmon;\n\tmarginTop: 0 0 20px;\n\tpadding: 3px;\n"]);return b=function(){return e},e}function y(){var e=Object(S.a)(["\n\tfont-size: 2.0rem;\n\talign-item: center;\n\tfont-weight: bold;\n\tcolor: pink;\n\tmarginTop: 0 0 20px;\n\tborder: 4px solid pink;\n\tborder-radius: 10px;\n\tpadding: 7px;\n"]);return y=function(){return e},e}var v=w.a.div(y()),O=(w.a.div(b(),function(e){return e.size}),function(e){var t=e.text;return r.a.createElement(v,null,t)});function E(){var e=Object(S.a)(["\n\tfont-size: ",";\n\talign-item: center;\n\tfont-weight: bold;\n\tcolor: salmon;\n\tmarginTop: 0 0 20px;\n\tpadding: 3px;\n"]);return E=function(){return e},e}var j=w.a.div(E(),function(e){return e.size}),k=function(e){var t=e.text;return r.a.createElement(j,null,t)},W=n(42);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P=n.n(W).a.connect("http://localhost:3000");P.emit("test",function(){console.log("callback socket emit test du front")}),console.log(P);var L=Object(m.a)(function(){return{gameOverContainer:{height:"500px",width:"500px",backgroundColor:"pink"},restartLabel:{fontSize:"50px",fontWeight:"bold",color:"white",padding:"10px","&:hover":{color:"salmon"}},restartButton:{cursor:"pointer","& :active":{transform:"scale(0.9, 0.9)"}},blockStyle:{backgroundColor:"pink",width:"".concat(40,"px"),height:"".concat(40,"px"),border:"1px solid pink"}}})(function(e){var t,n=e.classes,o=Object(a.useState)(0),i=Object(p.a)(o,2),c=i[0],m=i[1],I=Object(a.useState)(!1),d=Object(p.a)(I,2),u=d[0],S=d[1],w=Object(a.useState)({tab:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],tetriList:[]}),b=Object(p.a)(w,2),y=b[0],v=b[1],E=Object(a.useState)(x(0)),j=Object(p.a)(E,2),W=j[0],H=j[1],P=Object(a.useState)(0),L=Object(p.a)(P,2),N=L[0],z=L[1],D=Object(a.useState)(!0),T=Object(p.a)(D,2),J=T[0],R=T[1],B=Object(a.useState)(h[l.pieces[1]]),A=Object(p.a)(B,2),M=A[0],V=A[1],Z=Object(a.useState)(0),$=Object(p.a)(Z,2),q=$[0],F=$[1],G=Object(a.useState)(0),K=Object(p.a)(G,2),Q=K[0],U=K[1],X=Object(a.useState)(1e3),Y=Object(p.a)(X,2),_=Y[0],ee=Y[1],te=Object(a.useRef)(!1);Object(a.useEffect)(function(){JSON.stringify(y)===JSON.stringify({tab:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],tetriList:[]})&&c>0&&(m(0),z(0),U(0),F(0),ee(1e3),x(0),H(x(0)),V(h[l.pieces[1]]),S(!1))},[y,c]);var ne=function(e){(!t||38!==t.keyCode&&32!==t.keyCode&&40!==t.keyCode)&&J&&(t=e,39===e.keyCode&&H(function(e){return g(y.tab,C({},e,{x:e.x+1}))?C({},e,{x:e.x+1}):e}),37===e.keyCode&&H(function(e){return g(y.tab,C({},e,{x:e.x-1}))?C({},e,{x:e.x-1}):e}),40===e.keyCode&&(console.log("CAN MOVE:",J),clearInterval(te.current),te.current=ae(30)),32===e.keyCode&&(R(!1),clearInterval(te.current),te.current=ae(15)),38===e.keyCode&&H(function(e){var t=e.rot>2?0:e.rot+1,n=C({},e,{form:h[e.name].position[t].form,rot:t,h:h[e.name].position[t].height,leftSpace:h[e.name].position[t].leftSpace,rightSpace:h[e.name].position[t].rightSpace,downSpace:h[e.name].position[t].downSpace,maxHeight:h[e.name].position[t].maxHeight,maxWidth:h[e.name].position[t].maxWidth,width:h[e.name].position[t].width,height:h[e.name].position[t].height});return g(y.tab,n)?n:e}))},ae=function(e){return setInterval(function(){H(function(e){if(g(y.tab,C({},e,{y:e.y+1})))return C({},e,{y:e.y+1});R(!0),t=null,clearInterval(te.current),v(function(t){return e.form.map(function(n,a){n.map(function(n,r){e.form[a][r]>0&&(t.tab[e.y+a][e.x+r]=e.form[a][r])})}),t});var n=x(c+1);return m(function(e){return V(h[l.pieces[e+2]]),e+1}),!1!==n&&g(y.tab,n)?n:(S(!0),e)})},e)};Object(a.useEffect)(function(){return te.current=ae(_),u&&clearInterval(te.current),function(){clearInterval(te.current)}},[c,u,_]),Object(a.useEffect)(function(){return document.addEventListener("keydown",ne),document.addEventListener("keyup",function(e){40===e.keyCode&&J&&(clearInterval(te.current),te.current=ae(_)),32!==t&&(t=null)}),u&&document.removeEventListener("keydown",ne),function(){document.removeEventListener("keydown",ne)}},[c,u,J,W,N]);var re=function(){var e=y.tab,t=[];e.map(function(n,a){return n.every(function(e){return e>0})&&t.push(a),e}),t.length&&(function(e,t){var n=t;e.map(function(t){return n.splice(t,1),n.splice(0,0,[0,0,0,0,0,0,0,0,0,0]),e}),v({tetriList:y.tetriList,tab:n})}(t,e),function(e,t){var n=[40,100,300,1200];z(function(e){return e+n[t-1]}),F(function(e){var n=e+t,a=Math.trunc(n/10);return a>Q&&a<5&&U(function(){return ee(200*(5-a)),a}),e+t})}(0,t.length))};Object(a.useEffect)(function(){re()});var oe=W.form;return u?r.a.createElement("div",{className:"flex column center alignCenter",style:{height:"100hw"}},r.a.createElement("div",{className:"flex column center alignCenter ".concat(n.gameOverContainer)},r.a.createElement(k,{text:"Sorry, you lose",size:"1.0rem"}),r.a.createElement(k,{text:"Level: ".concat(Q),size:"1.3rem"}),r.a.createElement(k,{text:"Score: ".concat(N),size:"1.3rem"}),r.a.createElement(k,{text:"Rows: ".concat(q),size:"1.3rem"}),r.a.createElement("div",{className:"flex column center alignCenter ".concat(n.restartButton)},r.a.createElement("div",{className:n.restartLabel,onClick:function(){v({tab:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],tetriList:[]})}},"RESTART")))):r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"absolute",style:{height:"500px",left:"100px"}},r.a.createElement(O,{text:"Score: ".concat(N)}),r.a.createElement(O,{text:"Level: ".concat(Q)}),r.a.createElement(O,{text:"Rows: ".concat(q)}),r.a.createElement(O,{text:"Speed: x".concat(1e3-_)})),r.a.createElement("div",{className:"absolute",style:{top:"270px",left:"100px"}},y.tab.map(function(e,t){return r.a.createElement("div",{style:{display:"flex"},key:t},e.map(function(e,t){return r.a.createElement("div",{key:t},e>0?r.a.createElement(s,{color:f[e-1]}):r.a.createElement(s,{empty:!0}))}))}),r.a.createElement("div",{className:"absolute",style:{top:"".concat(40*W.y+W.y,"px"),left:"".concat(40*W.x+W.x,"px")}},oe.map(function(e,t){return r.a.createElement("div",{style:{display:"flex"},key:t},e.map(function(e,t){return r.a.createElement("div",{key:t},e>0?r.a.createElement(s,{color:W.color}):r.a.createElement(s,{transparent:!0}))}))}))),r.a.createElement("div",{className:"absolute flex center alignCenter column",style:{backgroundColor:"lightblue",left:"600px",top:"100px"}},r.a.createElement("div",{style:{fontSize:"40px",fontWeight:"bold",color:"navy",marginTop:"20px"}},"Next:"),r.a.createElement("div",{className:"relative",style:{top:"10px",padding:"10px"}},M.position[0].form.map(function(e,t){return r.a.createElement("div",{style:{display:"flex"},key:t},e.map(function(e,t){return r.a.createElement("div",{key:t},e>0?r.a.createElement(s,{color:M.color}):r.a.createElement(s,{transparent:!0}))}))}))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[48,1,2]]]);
//# sourceMappingURL=main.65848628.chunk.js.map