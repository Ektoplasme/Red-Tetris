{"version":3,"sources":["components/Popup.js","styles/Menu-styles.js","components/Title.js","components/Option.js","sockets/index.js","history.js","sockets/emits.js","components/MenuSubSection.js","containers/Menu/index.js","styles/Game-style.js","components/canFit.js","components/initialState.js","styles/GameOverInfos.js","containers/Game/FinishPage.js","components/Block.js","styles/GameInfos.js","containers/Game/InGamePage.js","containers/Game/playerInputs.js","containers/Game/Game.js","containers/Game/checkFunctions.js","containers/Multi/index.js","reducers/reducer.js","serviceWorker.js","index.js","App.js","assets/blue-tetrimino.png"],"names":["withStyles","back","backgroundColor","container","width","minHeight","borderRadius","boxShadow","title","fontSize","color","padding","description","button","cursor","&:hover","height","marginTop","_ref","classes","infos","closePopup","react_default","a","createElement","className","concat","onClick","colorArray","styles","display","flexDirection","alignItems","animation","backgroundSize","listUsernameLabel","fontFamily","input","textAlign","border","&:focus","outline","changeUsernameContainer","startButton","centerSubContainer","margin","optionsContainer","option","background","_","random","textShadow","transitionDuration","textTransform","maxWidth","optionLabel","fontWeight","redLabel","WebkitTextFillColor","WebkitBackgroundClip","tetrisLabel","paddingLeft","selectedContainer","position","chosen","props","style","src","tetrimino","alt","Option","select","num","shuffle","name","isSelected","selected","onMouseEnter","e","socket","io","connect","historyPush","createHashHistory","path","history","location","pathname","push","leaveRoom","emit","Solo","dispatch","type","nbPlayer","Create","_ref2","_useState","useState","_useState2","Object","slicedToArray","roomName","handleChange","onChange","target","value","length","isCreated","console","log","Settings","_ref3","leader","map","leaderTab","id","key","Join","_ref4","_useState3","_useState4","isInRoom","hasJoin","_shuffleColor","randNum","includes","popupInfo","disablePopup","gameState","onHover","setHover","_useState5","_useState6","usernameInput","changeUsernameInput","useEffect","components_Popup","components_Title","transition","autoFocus","onKeyDown","keyCode","alert","player","GameStyle","gameOverContainer","restartLabel","restartButton","& :active","transform","blockStyle","canFit","tetri","res","form","forEach","line","y","col","x","rightSpace","leftSpace","initialTetriState","count","data","isEmpty","tab","maxHeight","h","downSpace","rot","StyledGameOverInfos","styled","div","_templateObject","size","GameOverInfos","text","level","score","rows","resetGame","styles_GameOverInfos","colorTab","shadowBlockStyle","Block","empty","transparent","_objectSpread","ShadowBlock","StyledInfo","GameInfos_templateObject","InGameInfos","board","nextTetri","curTetri","dropTime","top","left","index","Block_Block","GameInfos","playTab","playerId","shadow","Block_ShadowBlock","solo","setData","counter","increment","gameOver","overGame","_useState7","tetriList","_useState8","updateBoard","_useState9","_useState10","moveTetri","_useState11","_useState12","updateScore","_useState13","_useState14","canMove","setCanMove","_useState15","_useState16","setNext","_useState17","_useState18","setRows","_useState19","_useState20","setLevel","_useState21","_useState22","setDropTime","refInterval","useRef","keyDown","on","ret","off","room","JSON","stringify","reset","setGameLoop","useCallback","speed","setInterval","clearInterval","checkFunctions_objectSpread","current","old","t","i","gameLoop","keydownFunc","event","playerInputs_objectSpread","tetriRot","checkPlayerInputs","keyUpFunc","removeListener","document","removeEventListener","addEventListener","displayUpdate","len","pointTab","total","calcLvl","Math","trunc","lines","every","newTab","n","splice","removeLine","checkLine","FinishPage","InGamePage","userId","curUser","user","keys","gameStarted","containers_Game_Game","align","react_dots_loader_lib_default","username","gameHost","initialState","isInGame","isWaiting","isHost","shadows","gameReducer","state","arguments","undefined","action","reducer_objectSpread","playerTab","Boolean","window","hostname","match","ReactDOM","render","setPopupInfo","_useReducer","useReducer","_useReducer2","updateGameState","containers_Multi","containers_Menu","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.3169f5bb.chunk.js","sourcesContent":["import React from 'react'\nimport { withStyles }  from '@material-ui/styles'\n\nconst styles = () => ({\n    back:{\n        backgroundColor: 'rgba(33,35,46,0.8)'\n    },\n    container: {\n        width: '300px',\n        minHeight: '200px',\n        borderRadius: '20px',\n        boxShadow: '4px 2px 19px 10px rgba(112,106,112,0.29)',\n        backgroundColor: 'rgba(33,35,46,1)',\n    },\n    title: {\n        fontSize: '30px',\n        color: 'white',\n        padding: 5\n    },\n    description: {\n        fontSize: '18px',\n        color: 'white',\n        padding: 5\n    },\n    button: {\n        cursor: 'pointer',\n        '&:hover': {\n            backgroundColor: 'rgba(83,85,96,1)',\n            color: 'rgba(43,45,56,1)'\n        },\n        width: '150px',\n        height: '30px',\n        borderRadius: '5px',\n        backgroundColor: 'rgba(43,45,56,1)',\n        color: 'white',\n        marginTop: 10\n    }\n})\n\nconst Popup = ({classes, infos, closePopup}) => {\n    return (\n        <div className={`${classes.back} absolute fullWidth fullHeight flex center alignCenter`}>\n            <div className={`flex center column  alignCenter ${classes.container}`}>\n                <div className={classes.title}>\n                    {infos.title}\n                </div>\n                <div className={classes.description}>\n                    {infos.description}\n                </div>\n                <button className={`flex center alignCenter ${classes.button}`} onClick={()=>{closePopup()}}>\n                    OK\n                </button>\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Popup)","import _ from 'lodash'\n\nexport let colorArray = [\n    'rgb(235, 40, 26)',\n    'rgb(235, 120, 26)',\n    'rgb(235, 221, 26)',\n    'rgb(117, 235, 26)',\n    'rgb(26, 218, 235)',\n    'rgb(26, 68, 235)',\n    'rgb(134, 26, 235)',\n    'rgb(235, 26, 183)',\n  ]\n\nexport const styles = ({\n    container: {\n      backgroundColor: 'rgb(33, 35, 46)',\n      minHeight: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      fontSize: 'calc(10px + 2vmin)',\n      color: 'white',\n      animation: 'gradientBackground 20s infinite',\n      backgroundSize: '100% 100%',\n    },\n    listUsernameLabel: {\n      fontFamily: 'Orbitron, sans-serif',\n      padding: '15px 0px'\n    },\n    input:{\n      height: '45px',\n      width: '250px',\n      fontSize: '28px',\n      textAlign: 'center',\n      backgroundColor: 'rgb(47, 49, 64)',\n      border: '3px solid rgb(71, 72, 99)',\n      color: 'white',\n      fontFamily: 'Orbitron, sans-serif',\n      '&:focus': {\n        outline: 'none'\n      }\n    },\n    changeUsernameContainer: {\n      marginTop: '30px',\n      height: '100px',\n      width: '800px',\n      padding: '10px',\n      cursor: 'pointer',\n      '&:hover':{\n        backgroundColor: 'rgb(47, 49, 64)',\n        borderRadius: '10px'\n      }\n    },\n    startButton: {\n      width: '200px',\n      height: '50px',\n      backgroundColor: 'red',\n      color: 'white'\n    },\n    centerSubContainer: {\n      margin: '200px',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: '50px'\n    },\n    optionsContainer: {\n      display: 'flex',\n      width: '600px'\n    },\n    option: {\n      padding: '10px 0px',\n      cursor: 'pointer',\n      border: '10px solid rgb(47, 49, 64)',\n      background: colorArray[_.random(0, 7)],\n      '&:hover': {\n        color: 'white',\n        border: '10px solid white',\n        textShadow: '0 0 10px #FFFFFF',\n        boxShadow: `inset 0 0 30px white, 0 0 15px white`,\n        transitionDuration: '0.5s'\n      },\n      textTransform: 'uppercase',\n      transitionDuration: '1s',\n      width: '100%',\n      maxWidth: '180px',\n      height: '120px'\n    },\n    optionLabel: {\n      color: 'white',\n      fontSize: '27px',\n      fontWeight: 'bold',\n      cursor: 'pointer',\n      '&:hover': {\n        textShadow: '0 0 10px #FFFFFF',\n      }\n    },\n    redLabel: {\n      cursor: 'default',\n      textTransform: 'uppercase',\n      fontSize: '45px',\n      WebkitTextFillColor: 'transparent',\n      background: `-webkit-linear-gradient(#eee, red)`,\n      WebkitBackgroundClip: 'text',\n    },\n    tetrisLabel: {\n      textTransform: 'uppercase',\n      cursor: 'default',\n      paddingLeft: '5px',\n      fontSize: '80px',\n      WebkitTextFillColor: 'transparent',\n      background: `-webkit-linear-gradient(#eee, grey)`,\n      WebkitBackgroundClip: 'text',\n      textShadow: '0 0 5px #FFFFFF',\n      animation: 'animate 3s infinite',\n      fontWeight: 'bold'\n    },\n    selectedContainer: {\n      // background: colorArray[_.random(0, 7)],\n      // border: '10px solid rgb(47, 49, 64)',\n      // height: '500px',\n      // width: '100%',\n      position: 'relative',\n      animation: 'selectOption 1s ease'\n    },\n    chosen: {\n      width: '100%',\n      height: '300px',\n      border: '10px solid rgb(47, 49, 64)',\n      backgroundColor: 'rgb(30, 32, 43)',\n      position: 'relative',\n      animation: 'secondMenu 0.5s ease'\n    }\n  })","import React from 'react'\nimport tetrimino from '../assets/blue-tetrimino.png'\nimport {styles} from '../styles/Menu-styles.js'\nimport { withStyles }  from '@material-ui/styles'\n\nconst Title = (props) => {\n  const { classes } = props\n  return (\n        <div style={{display: 'flex', flexDirection: 'row', alignItems: 'center'}}>\n          <p className={classes.redLabel}>\n            Red\n          </p>\n          <p className={classes.tetrisLabel}>\n            Tetris\n          </p>\n          <img src={tetrimino} style={{width: '100px', paddingLeft: '20px'}} alt=\"logo\" />\n        </div>\n  )\n}\n\nexport default withStyles(styles)(Title)","import React from 'react'\nimport {styles} from '../styles/Menu-styles.js'\nimport { withStyles }  from '@material-ui/styles'\n\nconst OptionComponent = (props) => {\n  const { classes, select, num, shuffle, name, selected } = props\n  const isSelected = selected > 0\n  return (\n      <div\n        className={`flex center alignCenter ${classes.option}`}\n        onMouseEnter={(e)=>{!isSelected && shuffle(e)}}\n        onClick={(e)=>{\n            select(num)\n        }}\n      >\n        <p className={classes.optionLabel}>\n          {name}\n        </p>\n      </div>\n  )\n}\n\nexport const Option = withStyles(styles)(OptionComponent)","import io from \"socket.io-client\"\n\nexport const socket = io.connect('/')","import { createHashHistory } from 'history'\n\nexport default createHashHistory()\n\nexport const historyPush = (path) => {\n  const history = createHashHistory()\n  if (history.location.pathname !== path) history.push(path)\n}","import { socket } from \"./index\"\nimport { historyPush } from \"../history\"\n\nexport const leaveRoom = () => {\n  socket.emit('leave room')\n}\n\nexport const checkGameInfos = (room, userName) => {\n  socket.emit('is in room', room, (isInRoom, name)=>{\n    if (!isInRoom){\n      alert('Lien invalide, retour au menu')\n      historyPush('/') \n    }\n  })\n}\n\nexport const joinRoom = (name) => {\n  socket.emit('is in room', name, (isInRoom, name)=>{\n    if (!isInRoom){\n      socket.emit('join room', name, (hasJoin, name)=>{\n        if (!hasJoin){\n          console.log(`ROOM \"${name}\" FULL OU PAS EXISTANTE!`)\n        } else {\n          console.log(`ROOM \"${name}\" BIEN REJOINTE`)\n        }\n      })\n    } else {\n      console.log('DEJA DANS LA ROOM BOULET')\n    }\n  })\n}\n\nexport const createRoom = (name) => {\n  socket.emit('create room', name, (isCreated, name)=>{\n    if (!isCreated){\n      console.log(`ROOM \"${name}\" EXITSE DEJA ! Pas créée`)\n    } else {\n      console.log(`ROOM \"${name}\" BIEN CRÉÉE ET REJOINTE`)\n    }\n  })\n}","import React, { useState } from 'react'\nimport {styles} from '../styles/Menu-styles.js'\nimport { withStyles }  from '@material-ui/styles'\nimport { joinRoom } from '../sockets/emits.js'\nimport { createRoom } from '../sockets/emits.js'\nimport { historyPush } from '../history.js';\nimport leader from '../datas/leaderboard.json';\n\nconst SoloComponent = ({ classes, selected, dispatch }) => {\n    return (\n        <div className={`flex center alignCenter column`} style={selected === 1 ? {display: 'flex'} : {display: 'none'}}>\n            <p className={classes.optionLabel} onClick={()=>{dispatch({type: 'START_GAME', nbPlayer: 1})}}>\n                Start\n            </p>\n        </div>\n    )\n}\n\nconst CreateComponent = ({ classes, selected }) => {\n    const [roomName, handleChange] = useState('')\n\n    return (\n        <div className={`flex center alignCenter column`} style={selected === 3 ? {display: 'flex'} : {display: 'none'}}>\n            <p>\n              Enter a new room name\n            </p>\n            <input className={`${classes.input}`} onChange={(e)=>{\n              handleChange(e.target.value)\n            }}/>\n            <p className={classes.optionLabel} onClick={()=>{\n              if (roomName.length) createRoom(roomName)\n            }}>\n              Create\n            </p>\n          </div>\n    )\n}\n\nconst SettingsComponent = ({ selected }) => {\n    // const [leadData, setLeadData] = useState([]);\n    return (\n        <div className={`flex center alignCenter column`} style={selected === 4 ? {display: 'flex'} : {display: 'none'}}>\n            <p>Leaderboard:</p>\n            {leader.map((leaderTab, id) => {\n              return (\n              <div key={id}>\n                <p>Tableau sans TR ici </p>\n              </div>)\n            })}\n        </div>\n    )\n}\n\nconst JoinComponent = ({ classes, selected }) => {\n    const [roomName, handleChange] = useState('')\n\n    return (\n        <div className={`flex center alignCenter column`} style={selected === 2 ? {display: 'flex'} : {display: 'none'}}>\n            <p>\n              Enter existing room name\n            </p>\n            <input className={`${classes.input}`} onChange={(e)=>{\n              handleChange(e.target.value)\n            }}/>\n            <p className={classes.optionLabel} onClick={()=>{\n              if (roomName.length) joinRoom(roomName)\n            }}>\n              Join\n            </p>\n          </div>\n    )\n}\n\nexport const Solo = withStyles(styles)(SoloComponent)\nexport const Create = withStyles(styles)(CreateComponent)\nexport const Settings = withStyles(styles)(SettingsComponent)\nexport const Join = withStyles(styles)(JoinComponent)\n","import React, { useState, useEffect } from 'react'\nimport { withStyles }  from '@material-ui/styles'\nimport Popup from '../../components/Popup'\nimport _ from 'lodash'\nimport './Menu.css'\nimport '../../styles/animation/text-animations.css'\nimport '../../styles/animation/selectOption.css'\nimport '../../styles/animation/background.css'\nimport {styles, colorArray} from '../../styles/Menu-styles.js'\nimport Title from '../../components/Title.js'\nimport {Option} from '../../components/Option.js'\nimport {Join, Solo, Create, Settings} from '../../components/MenuSubSection'\nimport { socket } from '../../sockets'\n\nconst _shuffleColor = (e) => {\n  let randNum = _.random(0, 7)\n  if (colorArray[randNum] === e.target.style.background){\n    randNum = randNum === 7 ? 0 : randNum += 1\n  }\n  if (!e.target.className.includes('optionLabel')){\n    e.target.style.background = colorArray[randNum]\n  }\n}\n\nconst Menu = props => {\n  const {\n    classes,\n    popupInfo,\n    disablePopup,\n    gameState,\n    dispatch\n  } = props\n\n  const [selected, select] = useState(0)\n  const [onHover, setHover] = useState(false)\n  const [usernameInput, changeUsernameInput] = useState('')\n\n  useEffect(()=>{\n    console.log(gameState, dispatch)\n  }, [gameState])\n\n  return (\n    <div className=\"App\" style={styles.container}>\n      {popupInfo !== null\n        ? <Popup infos={popupInfo} closePopup={disablePopup}/>\n        : null\n      }\n      <div className={`${classes.centerSubContainer}`}>\n        <Title/>\n        <div\n          className={`flex center alignCenter column ${classes.chosen}`}\n          style={selected > 0 ? {display: 'flex'} : {display: 'none'}}\n        >\n          <Join selected={selected}/>\n          <Solo selected={selected}  dispatch={dispatch}/>\n          <Create selected={selected}/>\n          <Settings selected={selected}/>\n          <p onClick={()=>{select(0)}} className={classes.optionLabel}>\n            Return\n          </p>\n        </div>\n        <div\n          className={`flex column center alignCenter`}\n          style={selected > 0 ? {display: 'none', transition: '0.5s ease'} : null}\n        >\n          <div className={`${classes.optionsContainer}`}>\n            <Option selected={selected} name='Solo' select={select} num={1} shuffle={_shuffleColor} />\n            <Option selected={selected} name='Join' select={select} num={2} shuffle={_shuffleColor} />\n            <Option selected={selected} name='Create' select={select} num={3} shuffle={_shuffleColor} />\n          </div>\n          <div className={`flex center ${classes.optionsContainer}`}>\n            <Option selected={selected} name='Score' select={select} num={4} shuffle={_shuffleColor} />\n          </div>\n        </div>\n        <div\n          className={`flex center alignCenter ${classes.changeUsernameContainer}`}\n          onClick={(e)=>{\n            setHover(true)\n          }}\n        >\n          <p style={{margin: '5px'}}>\n            {`Username:\\n`}\n          </p>\n          <div>\n            {onHover\n              ? <div\n                className={`flex row center alignCenter`}\n                style={{height: '50px', width: '400px'}}\n              >\n              <input\n                id='usernameInput'\n                className={`fullWidth ${classes.input}`}\n                value={usernameInput}\n                autoFocus\n                onKeyDown={(e)=>{\n                  if (e.keyCode === 13){\n                    if (usernameInput.length <= 10 && usernameInput.length > 0){\n                      socket.emit('set username', usernameInput)\n                      setHover(false)\n                    } else alert('Username should be 1 character minimum and 10 characters maximum')\n                  }\n                  if (e.keyCode === 27){\n                    setHover(false)\n                  }\n                }}\n                onChange={(e)=>{changeUsernameInput(e.target.value)}}\n              />\n            </div>\n              : <div\n                className={`flex center alignCenter`}\n                style={{fontSize: '34px', height: '50px', width: '400px', fontFamily: 'Orbitron, sans-serif'}}\n              >\n                {gameState.player}\n              </div>\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default withStyles(styles)(Menu)\n","const blockSize = 40\nexport const GameStyle = () => ({\n    gameOverContainer: {\n        height: '500px',\n        width: '500px',\n        backgroundColor: 'pink'\n    },\n    restartLabel: {\n        fontSize: '50px',\n        fontWeight: 'bold',\n        color: 'white',\n        padding: '10px',\n        '&:hover': {\n            color: 'salmon'\n        }\n    },\n    restartButton: {\n        cursor: 'pointer',\n        '& :active': {\n            transform: `scale(0.9, 0.9)`,\n        }\n    },\n    blockStyle: {\n        backgroundColor: 'pink',\n        width: `${blockSize}px`,\n        height: `${blockSize}px`,\n        border: '1px solid pink'\n    }\n})","export const canFit = (map, tetri) => {\n\tlet res = true\n\n\ttetri.form.forEach((line, y)=>{\n\t\tline.forEach((col, x)=>{\n\t\t\tif (col > 0 && ((!map[tetri.y + y] || (map[tetri.y + y][tetri.x + x] > 0) ||\n\t\t\t\ttetri.x + x > 9 + tetri.rightSpace ||\n\t\t\t\ttetri.x + x < 0 - tetri.leftSpace ||\n\t\t\t\ttypeof map[tetri.y + y][tetri.x + x] === 'undefined'))){\n\t\t\t\t\tres = false\n\t\t\t}\n\t\t})\n\t})\n\treturn res\n}\n","import tab from './pieces.1.json'\nimport { isEmpty } from 'lodash'\n\nexport const initialTetriState = (count, data) => {\n\tlet name = \"T\";\n\tif (!isEmpty(data))\n\t\tname = data[count];\n\tconst tetri = {\n\t\tmaxWidth: tab[name].position[0].maxWidth,\n\t\tmaxHeight: tab[name].position[0].maxHeight,\n\t\th: tab[name].position[0].height,\n\t\ttype: tab[name].type,\n\t\tname: name,\n\t\twidth: tab[name].position[0].width,\n\t\tx: 3,\n\t\ty: 0,\n\t\tleftSpace: tab[name].position[0].leftSpace,\n\t\trightSpace: tab[name].position[0].rightSpace,\n\t\tdownSpace: tab[name].position[0].downSpace,\n\t\trot: 0,\n\t\tform: tab[name].position[0].form,\n\t\tcolor: tab[name].color,\n\t}\n\treturn(tetri)\n}\n\nexport const initialBoardState = () => ({\n\ttab: [\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t[0,0,0,0,0,0,0,0,0,0]\n\t],\n\ttetriList: []\n})","import React from 'react'\nimport styled from 'styled-components'\n\nconst StyledGameOverInfos = styled.div`\n\tfont-size: ${props => (props.size)};\n\talign-item: center;\n\tfont-weight: bold;\n\tcolor: salmon;\n\tmarginTop: 0 0 20px;\n\tpadding: 3px;\n`\n\nconst GameOverInfos = ({text}) => (<StyledGameOverInfos>{text}</StyledGameOverInfos>)\n\nexport default GameOverInfos","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\nimport {GameStyle} from '../../styles/Game-style.js'\nimport GameOverInfos from '../../styles/GameOverInfos.js'\n\nconst FinishComponent = ({classes, level, score, rows, resetGame}) => {\n\treturn (\n\t\t<div className='flex column center alignCenter' style={{height: '100hw'}}>\n\t\t\t<div className={`flex column center alignCenter ${classes.gameOverContainer}`}>\n\t\t\t\t<GameOverInfos text={`Sorry, you lose`} size={'1.0rem'}/>\n\t\t\t\t<GameOverInfos text={`Level: ${level}`} size={'1.3rem'}/>\n\t\t\t\t<GameOverInfos text={`Score: ${score}`} size={'1.3rem'}/>\n\t\t\t\t<GameOverInfos text={`Rows: ${rows}`} size={'1.3rem'}/>\n\t\t\t\t<div className={`flex column center alignCenter ${classes.restartButton}`}>\n\t\t\t\t\t<div className={classes.restartLabel} onClick={()=>{resetGame()}}>\n\t\t\t\t\t\tRESTART\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default withStyles(GameStyle)(FinishComponent)","import React from 'react'\nexport const blockSize = 40\nexport const shadowBlockSize = 10\n\nexport const colorTab = ([\n\t'red',\n\t'blue',\n\t'yellow',\n\t'purple',\n\t'salmon',\n\t'cyan',\n\t'green'\n])\n\nconst blockStyle = ({\n\tbackgroundColor: 'pink',\n\twidth: `${blockSize}px`,\n\theight: `${blockSize}px`,\n\tborder: '0.5px solid #3331'\n})\n\nconst shadowBlockStyle = ({\n\tbackgroundColor: 'pink',\n\twidth: `${shadowBlockSize}px`,\n\theight: `${shadowBlockSize}px`,\n\tborder: '0.5px solid #3331'\n})\n\nexport const Block = ({empty, color, transparent})=>{\n\treturn (\n\t\t<div\n\t\t\tstyle={!!empty\n\t\t\t\t? {...blockStyle}\n\t\t\t\t: transparent\n\t\t\t\t\t? {...blockStyle, border: '0.5px solid transparent', backgroundColor: 'transparent'}\n\t\t\t\t\t: {...blockStyle, border: '0.5px solid white', backgroundColor: `${color}`}\n\t\t\t}\n\t\t/>\n\t)\n}\n\nexport const ShadowBlock = ({empty, color, transparent})=>{\n\treturn (\n\t\t<div\n\t\t\tstyle={!!empty\n\t\t\t\t? {...shadowBlockStyle}\n\t\t\t\t: transparent\n\t\t\t\t\t? {...shadowBlockStyle, border: '0.5px solid transparent', backgroundColor: 'transparent'}\n\t\t\t\t\t: {...shadowBlockStyle, border: '0.5px solid white', backgroundColor: `${color}`}\n\t\t\t}\n\t\t/>\n\t)\n}","import React from 'react'\nimport styled from 'styled-components'\n\nconst StyledInfo = styled.div`\n\tfont-size: 2.0rem;\n\talign-item: center;\n\tfont-weight: bold;\n\tcolor: pink;\n\tmarginTop: 0 0 20px;\n\tborder: 4px solid pink;\n\tborder-radius: 10px;\n\tpadding: 7px;\n`\n\nconst InGameInfos = ({text}) => (\n\t<StyledInfo>{text}</StyledInfo>\n)\n\nexport default InGameInfos","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\nimport {blockSize, Block, colorTab, ShadowBlock} from '../../components/Block.js'\nimport InGameInfos from '../../styles/GameInfos.js'\nimport {GameStyle} from '../../styles/Game-style.js'\n\nconst InGameComponent = ({classes, board, gameState, nextTetri, curTetri, score, level, rows, tetri, dropTime}) => {\n\treturn (\n        <div className='flex'>\n\t\t\t\t\t\t<div className={'absolute'} style={{top: '100px', left: '100px'}}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tboard.tab.map((line, index)=>{\n\t\t\t\t\t\t\t\t\treturn <div style={{display: 'flex'}} key={index}>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tline.map((col, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{col > 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? <Block color={colorTab[col - 1]}/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: <Block empty/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={`absolute`}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\ttop: `${blockSize * curTetri.y + curTetri.y}px`,\n\t\t\t\t\t\t\t\t\t\tleft: `${blockSize * curTetri.x + curTetri.x}px`\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttetri.map((line, index)=>{\n\t\t\t\t\t\t\t\t\treturn <div style={{display: 'flex'}} key={index}>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tline.map((col, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{col > 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? <Block color={curTetri.color}/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: <Block transparent/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={'absolute flex center alignCenter column'} style={{left: '600px', top: '100px'}}>\n\t\t\t\t\t\t\t<div style={{fontSize: '40px', fontWeight: 'bold', color: 'navy', marginTop: '20px'}}>Next:</div>\n\t\t\t\t\t\t\t<div className={'relative'} style={{top: '10px', padding: '10px'}}>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tnextTetri && nextTetri.position[0].form.map((line, index)=>{\n\t\t\t\t\t\t\t\t\t\treturn <div style={{display: 'flex'}} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tline.map((col, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{col > 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? <Block color={nextTetri.color}/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: <Block transparent/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={'relative'} style={{}}>\n\t\t\t\t\t\t\t\t<InGameInfos text={`Score: ${score}`}/>\n\t\t\t\t\t\t\t\t<InGameInfos text={`Level: ${level}`}/>\n\t\t\t\t\t\t\t\t<InGameInfos text={`Rows: ${rows}`}/>\n\t\t\t\t\t\t\t\t<InGameInfos text={`Speed: x${1000 - dropTime}`}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={'flex row '}>\n\t\t\t\t\t\t\t\t{\tgameState.playTab && gameState.playTab.map((player, index)=>{\n\t\t\t\t\t\t\t\t\tif (player && player.id !== gameState.playerId) return <div key={index} className={`relative`} style={{padding: '2px'}}>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tplayer.shadow && player.shadow.map((line, index)=>{\n\t\t\t\t\t\t\t\t\t\t\t\treturn <div style={{display: 'flex'}} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tline.map((col, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{col > 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? <ShadowBlock color={colorTab[col - 1]}/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: <ShadowBlock empty/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\telse return null\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t)\n}\n\nexport default withStyles(GameStyle)(InGameComponent)","export const checkPlayerInputs = (canFit, board, setCanMove, refInterval, tab, moveTetri, setGameLoop, event) => {\n\tif (event.keyCode === 39) {//DROITE\n\t\tmoveTetri((tetri)=>{\n\t\t\t\tif (canFit(board.tab, {...tetri, x: tetri.x + 1})) return {...tetri, x: tetri.x + 1}\n\t\t\t\telse return tetri\n\t\t})\n\t}\n\tif (event.keyCode === 37) {//GAUCHE\n\t\tmoveTetri((tetri)=>{\n\t\t\t\tif (canFit(board.tab, {...tetri, x: tetri.x - 1})) return {...tetri, x: tetri.x - 1}\n\t\t\t\telse return tetri\n\t\t})\n\t}\n\tif (event.keyCode === 40) {//BAS\n\t\tclearInterval(refInterval.current)\n\t\trefInterval.current = setGameLoop(30)\n\t}\n\tif (event.keyCode === 32) {//ESPACE\n\t\tsetCanMove(false)\n\t\tclearInterval(refInterval.current)\n\t\trefInterval.current = setGameLoop(15)\n\t}\n\tif (event.keyCode === 38) {//HAUT (rotation)\n\t\tmoveTetri(tetri => {\n\t\t\tconst rot = tetri.rot > 2 ? 0 : tetri.rot + 1\n\t\t\tconst tetriRot = {//tetri potentiel apres rotation demandée\n\t\t\t\t\t...tetri,\n\t\t\t\t\tform: tab[tetri.name].position[rot].form,\n\t\t\t\t\trot: rot,\n\t\t\t\t\th: tab[tetri.name].position[rot].height,\n\t\t\t\t\tleftSpace: tab[tetri.name].position[rot].leftSpace,\n\t\t\t\t\trightSpace: tab[tetri.name].position[rot].rightSpace,\n\t\t\t\t\tdownSpace: tab[tetri.name].position[rot].downSpace,\n\t\t\t\t\tmaxHeight: tab[tetri.name].position[rot].maxHeight,\n\t\t\t\t\tmaxWidth: tab[tetri.name].position[rot].maxWidth,\n\t\t\t\t\twidth: tab[tetri.name].position[rot].width,\n\t\t\t\t\theight: tab[tetri.name].position[rot].height,\n\t\t\t}\n\t\t\tif (canFit(board.tab, tetriRot)){//si ya la place de faire une rotation\n\t\t\t\t\treturn tetriRot\n\t\t\t} else return tetri\n\t\t})\n\t}\n}","import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport tab from '../../components/pieces.1.json'\nimport { withStyles }  from '@material-ui/styles'\nimport {GameStyle} from '../../styles/Game-style.js'\nimport {canFit} from '../../components/canFit.js'\nimport {initialBoardState, initialTetriState} from '../../components/initialState.js'\nimport FinishComponent from './FinishPage.js'\nimport InGameComponent from './InGamePage.js'\nimport { socket } from '../../sockets';\nimport { styles } from '../../styles/Menu-styles.js'\nimport { leaveRoom } from '../../sockets/emits.js'\nimport { checkLine, gameLoop, reset } from './checkFunctions.js'\nimport { checkPlayerInputs } from './playerInputs'\nimport { isEmpty } from 'lodash'\n//import leader from '../datas/leaderboard.json';\n\nconst Game = ({classes, gameState, dispatch, solo}) => {\n\n\tconst [data, setData] = useState([]);\n\tconst [counter, increment] = useState(0)\n\tconst [gameOver, overGame] = useState(false)\n\tconst [board, updateBoard] = useState(initialBoardState())\n\tconst [curTetri, moveTetri] = useState(initialTetriState(0, data));\n\tconst [score, updateScore] = useState(0)\n\tconst [canMove, setCanMove] = useState(true)\n\tconst [nextTetri, setNext] = useState(null);\n\n\tconst [rows, setRows] = useState(0)\n\tconst [level, setLevel] = useState(0)\n\tconst [dropTime, setDropTime] = useState(1000)\n\tconst refInterval = useRef(false)\n\tconst keyDown = useRef(false)\n\n\tuseEffect(() =>{\n\t\tsocket.emit(\"RandomTetri\")\n\t}, [gameOver])\n\n\tuseEffect(() =>{\n\t\tconsole.log(\"dans GAME: gamestate:\", gameState)\n\t\tsocket.on(\"sendRandTetris\", (ret) => {\n\t\t\tsetData(ret);\n\t\t})\n\t\tif (!solo) socket.on('receive player shadow', dispatch)\n\t\treturn () => socket.off('sendRandTetris')\n\t}, []);\n\n\tuseEffect(() =>{\n\t\tif (!isEmpty(data))\n\t\t\tsetNext(tab[data[1]])\n\t}, [data])\n\n\tuseEffect(() =>{\n\t\tconsole.log('EMIT BOARD STATE')\n\t\tif (!solo) socket.emit('emit board state', board.tab, gameState.room)\n\t}, [counter])\n\n\tuseEffect(() => {\n\t\tif (JSON.stringify(board) === JSON.stringify(initialBoardState()) &&\n\t\t counter > 0){\n\t\t\treset(increment, updateScore, setLevel, setRows, setDropTime,\n\t\t\t\tmoveTetri, initialTetriState, data, tab, overGame, setNext)\n\t\t}\n\t}, [board, counter, data, nextTetri])\n\n\tconst resetGame = () => {\n\t\tupdateBoard(initialBoardState())\n\t}\n\n\tconst setGameLoop = useCallback((speed) => {\n\t\treturn setInterval(() => {\n\t\t\tgameLoop(moveTetri, canFit, setCanMove, keyDown,\n\t\t\t\tclearInterval, updateBoard, initialTetriState, increment,\n\t\t\t\t setNext, overGame, board, refInterval, counter, data, tab)\n\t\t}, speed)\n\t}, [board.tab, counter, data])\n\n\tconst keydownFunc = useCallback(event => {\n\t\tvar key = keyDown.current ? keyDown.current.keyCode : key\n\t\tif ((key && (key === 38 || key === 32 || key === 40)) || !canMove) return\n\t\tkeyDown.current = event\n\t\tcheckPlayerInputs(canFit, board, setCanMove, refInterval,\n\t\t\t tab, moveTetri, setGameLoop, event)\n\t}, [board.tab, canMove, setGameLoop])\n\n\tconst keyUpFunc = event => {\n\t\tif (event.keyCode === 40 && canMove){\n\t\t\tclearInterval(refInterval.current)\n\t\t\trefInterval.current = setGameLoop(dropTime)\n\t\t}\n\t\tif (keyDown.current !== 32) keyDown.current = null\n\t}\n\n\tconst removeListener = () => {\n\t\tdocument.removeEventListener(\"keydown\", keydownFunc)\n\t\tdocument.removeEventListener(\"keyup\", keyUpFunc)\n\t}\n\n\tuseEffect(() => {\n\t\trefInterval.current = setGameLoop(dropTime)\n\t\t\tif (gameOver) clearInterval(refInterval.current)\n\t\t\treturn () => {\n\t\t\t\tclearInterval(refInterval.current)\n\t\t\t}\n\t\t}, [counter, gameOver, dropTime, setGameLoop])\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener(\"keydown\", keydownFunc)\n\t\tdocument.addEventListener(\"keyup\", keyUpFunc)\n\t\tif (gameOver) removeListener()\n\t\treturn () => removeListener()\n\t}, [counter, gameOver, canMove, curTetri, score,\n\t\t dropTime, keydownFunc, setGameLoop])\n\n\tconst displayUpdate = (rows, len) => {\n\t\tconst pointTab = [40, 100, 300, 1200]\n\t\tupdateScore((score) => {return score + (pointTab[len - 1])})\n\t\tsetRows((rows) =>{\n\t\t\tlet total = rows + len\n\t\t\tlet calcLvl = Math.trunc(total / 10)\n\t\t\tif (calcLvl > level && calcLvl < 5){\n\t\t\t\tsetLevel(() => {\n\t\t\t\t\tsetDropTime(200 * (5 - calcLvl))\n\t\t\t\t\treturn calcLvl\n\t\t\t\t})\n\t\t\t}\n\t\t return rows + len\t\n\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\t\tcheckLine(board, displayUpdate, rows, updateBoard)\n\t})\n\n\tconst tetri = curTetri.form\n\treturn (\n\t\t<div className=\"App\" style={styles.container}>\n\t\t\t<div\n\t\t\t\tclassName='navigationBar fullWidth flex center alignCenter'\n\t\t\t\tstyle={{height: '30px', backgroundColor: 'red'}}\n\t\t\t>\n\t\t\t\t<p onClick={()=>{dispatch({type: 'END_GAME'});leaveRoom()}}>\n\t\t\t\t\tRETURN MENU\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t{gameOver\n\t\t\t\t? <FinishComponent\n\t\t\t\t\tlevel={level}\n\t\t\t\t\tscore={score}\n\t\t\t\t\trows={rows}\n\t\t\t\t\tresetGame={resetGame}\n\t\t\t\t/>\n\t\t\t\t: <InGameComponent\n\t\t\t\t\tlevel={level}\n\t\t\t\t\tscore={score}\n\t\t\t\t\trows={rows}\n\t\t\t\t\tboard={board}\n\t\t\t\t\tgameState={gameState}\n\t\t\t\t\tnextTetri={nextTetri}\n\t\t\t\t\tcurTetri={curTetri}\n\t\t\t\t\ttetri={tetri}\n\t\t\t\t\tdropTime={dropTime} \n\t\t\t\t/>\n\t\t\t}\n\t\t</div>\n\t)\n}\n\nexport default withStyles(GameStyle)(Game)","export const removeLine = (num, tab, updateBoard, board) => {\n\tlet newTab = tab\n\tnum.map((n)=>{\n\t\tnewTab.splice(n, 1) \n\t\tnewTab.splice(0, 0, [0,0,0,0,0,0,0,0,0,0])\n\t\treturn num\n\t})\n\tupdateBoard({tetriList: board.tetriList, tab:newTab})\n}\n\nexport const checkLine = (board, displayUpdate, rows, updateBoard) => {\n\tlet tab = board.tab\n\tlet lines = []\n\ttab.map((line, y)=>{\n\t\t\tif (line.every((num) => {return num > 0})){\n\t\t\t\t\tlines.push(y)\n\t\t\t}\n\t\t\treturn tab\n\t})\n\tif (lines.length){\n\t\t\tremoveLine(lines, tab, updateBoard, board)\n\t\t\tdisplayUpdate(rows, lines.length);\n\t}\n}\n\nexport const gameLoop = (moveTetri, canFit, setCanMove, keyDown,\n\t clearInterval, updateBoard, initialTetriState, increment,\n\t  setNext, overGame, board, refInterval, counter, data, tab) => {\n\tmoveTetri((tetri)=>{\n\t\tif (!canFit(board.tab, {...tetri, y: tetri.y + 1})){\n\t\t\tsetCanMove(true)\n\t\t\tkeyDown.current = null\n\t\t\tclearInterval(refInterval.current)\n\t\t\tupdateBoard((old)=>{\n\t\t\t\ttetri.form.forEach((line, y)=>{\n\t\t\t\t\tline.forEach((col, x)=>{\n\t\t\t\t\t\tif (tetri.form[y][x] > 0){\n\t\t\t\t\t\t\told.tab[tetri.y + y][tetri.x + x] = tetri.form[y][x]\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\treturn old\n\t\t\t})\n\t\t\tconst t = initialTetriState(counter + 1, data);\n\t\t\tincrement((i)=>{\n\t\t\t\tsetNext(tab[data[i+2]])\n\t\t\t\treturn i+1\n\t\t\t})\n\t\t\tif (t === false || !canFit(board.tab, t)){\n\t\t\t\toverGame(true)\n\t\t\t\treturn tetri\n\t\t\t} else return t\n\t\t}\n\t\telse return {...tetri, y: tetri.y + 1}\n\t})\n}\n\nexport const reset = (increment, updateScore, setLevel, setRows, setDropTime,\n\t moveTetri, initialTetriState, data, tab, overGame, setNext) => {\n\tincrement(0)\n\tupdateScore(0)\n\tsetLevel(0)\n\tsetRows(0)\n\tsetDropTime(1000);\n\tmoveTetri(initialTetriState(0), data);\n\tsetNext(tab[data[1]]);\n\toverGame(false)\n}","import React, {useEffect} from 'react'\nimport { styles } from '../../styles/Menu-styles.js'\nimport { leaveRoom } from '../../sockets/emits.js'\nimport Loader from 'react-dots-loader'\nimport 'react-dots-loader/index.css'\nimport { socket } from '../../sockets'\nimport { withStyles } from '@material-ui/styles'\nimport Game from '../Game/Game.js'\n\nconst Multi = ({ classes, gameState, dispatch }) => {\n\tvar userId = gameState.playerId\n\tvar curUser = {}\n\n\tgameState.playTab && gameState.playTab.forEach((user)=>{\n\t\tif (user && user.id === userId){\n\t\t\tcurUser = user\n\t\t}\n\t})\n\n\tconst startGame = () => {\n\t\tsocket.emit('start game', gameState.room)\n\t}\n\n\tuseEffect(()=> {\n\t\tsocket.on('room update', dispatch)\n\t\tsocket.on('host started game', () => {\n\t\t\tdispatch({type: 'START_GAME', nbPlayer: Object.keys(gameState.playTab).length})\n\t\t})\n\t\tsocket.emit('room infos')\n\t\treturn () => socket.off('room update')\n\t}, [])\n\n\treturn (\n\t <div className='fullWidth' style={{backgroundColor: 'pink'}}>\n\t\t{gameState.gameStarted\n\t\t\t? <Game gameState={gameState} dispatch={dispatch}/>\n\t\t\t: <div>\n\t\t\t\t\t<div\n\t\t\t\t\tclassName='navigationBar fullWidth flex center alignCenter'\n\t\t\t\t\tstyle={{height: '30px', backgroundColor: 'red'}}\n\t\t\t\t\tonClick={()=>{\n\t\t\t\t\t\tleaveRoom()\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<p>RETURN MENU</p>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"App\" style={styles.container}>\n\t\t\t\t\t<p align=\"center\">\n\t\t\t\t\t\tWaiting for host to start the game\n\t\t\t\t\t</p>\n\t\t\t\t\t<Loader color=\"navy\"/>\n\t\t\t\t\t<p>Room : {gameState.room}</p>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={classes.listUsernameLabel}>\n\t\t\t\t\t\t\tPlayers in this room :\n\t\t\t\t\t\t</div> \n\t\t\t\t\t{ \n\t\t\t\t\t\tgameState.playTab && gameState.playTab.map((user, index) => {\n\t\t\t\t\t\t\treturn user\n\t\t\t\t\t\t\t\t? <div className={`flex center alignCenter row`} key={index}>\n\t\t\t\t\t\t\t\t<div className={classes.listUsernameLabel}>\n\t\t\t\t\t\t\t\t\t{user.username}{user.gameHost ? ' ♛' : ''}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t: <div key={index}/>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t\t{ curUser.gameHost\n\t\t\t\t\t\t?\t<div\n\t\t\t\t\t\t\t\tclassName={classes.startButton}\n\t\t\t\t\t\t\t\tonClick={()=>{startGame()}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSTART\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t}\n\t</div>\n\t)\n}\n\nexport default withStyles(styles)(Multi)","export const GET_USER_INFOS = 'GET_USER_INFOS'\nexport const SET_USERNAME = 'SET_USERNAME'\nexport const ROOM_LEAVED = 'ROOM_LEAVED'\nexport const ROOM_JOINED = 'ROOM_JOINED'\nexport const ROOM_UPDATE = 'ROOM_UPDATE'\nexport const START_GAME = 'START_GAME'\nexport const END_GAME = 'END_GAME'\nexport const UPDATE_OPPONENTS = 'UPDATE_OPPONENTS'\n\nexport const initialState = {\n\troom: null,\n\tnbPlayer: null,\n\tplayer: null,\n\tplayerId: null,\n\tisInGame: false,\n\tgameStarted: false,\n\tisWaiting: false,\n\tisHost: false,\n\tplayTab: [],\n\tshadows: null\n}\n\nexport const gameReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase GET_USER_INFOS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayer: action.player,\n\t\t\t\tplayerId: action.playerId,\n\t\t\t\tisInGame: action.isInGame,\n\t\t\t}\n\t\tcase UPDATE_OPPONENTS:\n\t\tconsole.log('DANS UPDATE OPPONENT: ', action)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayTab: action.playTab\n\t\t\t}\n\t\tcase SET_USERNAME:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayer: action.player\n\t\t\t}\n\t\tcase ROOM_JOINED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\troom: action.room,\n\t\t\t\tisInGame: true,\n\t\t\t\tisHost: action.player.isHost,\n\t\t\t\tplayTab: action.playerTab,\n\t\t\t\tisWaiting: true\n\t\t\t}\n\t\tcase ROOM_LEAVED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\troom: null,\n\t\t\t\tisInGame: false,\n\t\t\t\tisHost: false\n\t\t\t}\n\t\tcase ROOM_UPDATE:\n\t\tconsole.log('ROOM UPDATE!!: ', action)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplayTab: action.playerTab,\n\t\t\t\tisHost: action.isHost\n\t\t\t}\n\t\tcase START_GAME:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tgameStarted: true,\n\t\t\t\tnbPlayer: action.nbPlayer\n\t\t\t}\n\t\tcase END_GAME:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tgameStarted: false,\n\t\t\t\tisWaiting: false\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './styles/fonts.css'\nimport './styles/patterns.css'\nimport { App } from './App.js'\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { useEffect, useState, useReducer } from 'react'\nimport Menu from './containers/Menu' \n// import Solo from './components/Game'\nimport Multi from './containers/Multi'\nimport { socket } from './sockets'\nimport { historyPush } from \"./history\"\nimport { gameReducer, initialState } from './reducers/reducer.js'\nimport Game from './containers/Game/Game.js'\n\nexport const App = props => {\n\tconst [popupInfo, setPopupInfo] = useState(null)\n  const [gameState, dispatch] = useReducer(gameReducer, initialState)\n\n\tconst disablePopup = () => {\n\t\tsetPopupInfo(null)\n\t}\n\n\tconst updateGameState = (action) => {\n\t\tdispatch(action)\n\t}\n\n\tconst setListenners = () => {\n\t\tsocket.on('get user infos', dispatch)\n\t\tsocket.on('room joined', (data)=>{\n\t\t\thistoryPush(`${data.room}[${data.player}]`)\n\t\t\tdispatch(data)\n\t\t})\n\t\tsocket.on('room leaved', dispatch)\n\t\tsocket.on('username set', dispatch)\n\t\tsocket.on('info popup', setPopupInfo)\n\t}\n\tuseEffect(()=>{\n\t\tif (gameState.isInGame === false) socket.emit('user connect')\n\t}, [gameState.isInGame])\n\n\tuseEffect(()=>{\n\t\tsetListenners()\n\t\tsocket.emit('user connect')\n\t}, [])\n\n\treturn(\n\t\tgameState.isInGame\n\t\t\t? <Multi\n\t\t\t\tgameState={gameState}\n\t\t\t\tdispatch={updateGameState}\n\t\t\t/>\n\t\t\t: gameState.gameStarted && gameState.nbPlayer === 1\n\t\t\t\t? <Game\n\t\t\t\t\tgameState={gameState}\n\t\t\t\t\tdispatch={updateGameState}\n\t\t\t\t\tsolo\n\t\t\t\t/>\n\t\t\t\t: <Menu\n\t\t\t\t\tgameState={gameState}\n\t\t\t\t\tdispatch={updateGameState}\n\t\t\t\t\tpopupInfo={popupInfo}\n\t\t\t\t\tdisablePopup={disablePopup}\n\t\t\t\t/>\n\t)\n}","module.exports = __webpack_public_path__ + \"static/media/blue-tetrimino.cde48510.png\";"],"sourceRoot":""}