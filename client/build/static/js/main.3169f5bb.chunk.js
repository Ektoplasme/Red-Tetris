(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(41),c=n.n(o),i=(n(58),n(59),n(60),n(2)),l=n(111),s=Object(l.a)(function(){return{back:{backgroundColor:"rgba(33,35,46,0.8)"},container:{width:"300px",minHeight:"200px",borderRadius:"20px",boxShadow:"4px 2px 19px 10px rgba(112,106,112,0.29)",backgroundColor:"rgba(33,35,46,1)"},title:{fontSize:"30px",color:"white",padding:5},description:{fontSize:"18px",color:"white",padding:5},button:{cursor:"pointer","&:hover":{backgroundColor:"rgba(83,85,96,1)",color:"rgba(43,45,56,1)"},width:"150px",height:"30px",borderRadius:"5px",backgroundColor:"rgba(43,45,56,1)",color:"white",marginTop:10}}})(function(e){var t=e.classes,n=e.infos,a=e.closePopup;return r.a.createElement("div",{className:"".concat(t.back," absolute fullWidth fullHeight flex center alignCenter")},r.a.createElement("div",{className:"flex center column  alignCenter ".concat(t.container)},r.a.createElement("div",{className:t.title},n.title),r.a.createElement("div",{className:t.description},n.description),r.a.createElement("button",{className:"flex center alignCenter ".concat(t.button),onClick:function(){a()}},"OK")))}),p=n(6),m=n.n(p),u=(n(65),n(66),n(67),n(68),["rgb(235, 40, 26)","rgb(235, 120, 26)","rgb(235, 221, 26)","rgb(117, 235, 26)","rgb(26, 218, 235)","rgb(26, 68, 235)","rgb(134, 26, 235)","rgb(235, 26, 183)"]),d={container:{backgroundColor:"rgb(33, 35, 46)",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",fontSize:"calc(10px + 2vmin)",color:"white",animation:"gradientBackground 20s infinite",backgroundSize:"100% 100%"},listUsernameLabel:{fontFamily:"Orbitron, sans-serif",padding:"15px 0px"},input:{height:"45px",width:"250px",fontSize:"28px",textAlign:"center",backgroundColor:"rgb(47, 49, 64)",border:"3px solid rgb(71, 72, 99)",color:"white",fontFamily:"Orbitron, sans-serif","&:focus":{outline:"none"}},changeUsernameContainer:{marginTop:"30px",height:"100px",width:"800px",padding:"10px",cursor:"pointer","&:hover":{backgroundColor:"rgb(47, 49, 64)",borderRadius:"10px"}},startButton:{width:"200px",height:"50px",backgroundColor:"red",color:"white"},centerSubContainer:{margin:"200px",display:"flex",flexDirection:"column",alignItems:"center",padding:"50px"},optionsContainer:{display:"flex",width:"600px"},option:{padding:"10px 0px",cursor:"pointer",border:"10px solid rgb(47, 49, 64)",background:u[m.a.random(0,7)],"&:hover":{color:"white",border:"10px solid white",textShadow:"0 0 10px #FFFFFF",boxShadow:"inset 0 0 30px white, 0 0 15px white",transitionDuration:"0.5s"},textTransform:"uppercase",transitionDuration:"1s",width:"100%",maxWidth:"180px",height:"120px"},optionLabel:{color:"white",fontSize:"27px",fontWeight:"bold",cursor:"pointer","&:hover":{textShadow:"0 0 10px #FFFFFF"}},redLabel:{cursor:"default",textTransform:"uppercase",fontSize:"45px",WebkitTextFillColor:"transparent",background:"-webkit-linear-gradient(#eee, red)",WebkitBackgroundClip:"text"},tetrisLabel:{textTransform:"uppercase",cursor:"default",paddingLeft:"5px",fontSize:"80px",WebkitTextFillColor:"transparent",background:"-webkit-linear-gradient(#eee, grey)",WebkitBackgroundClip:"text",textShadow:"0 0 5px #FFFFFF",animation:"animate 3s infinite",fontWeight:"bold"},selectedContainer:{position:"relative",animation:"selectOption 1s ease"},chosen:{width:"100%",height:"300px",border:"10px solid rgb(47, 49, 64)",backgroundColor:"rgb(30, 32, 43)",position:"relative",animation:"secondMenu 0.5s ease"}},f=n(44),h=n.n(f),g=Object(l.a)(d)(function(e){var t=e.classes;return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement("p",{className:t.redLabel},"Red"),r.a.createElement("p",{className:t.tetrisLabel},"Tetris"),r.a.createElement("img",{src:h.a,style:{width:"100px",paddingLeft:"20px"},alt:"logo"}))}),b=Object(l.a)(d)(function(e){var t=e.classes,n=e.select,a=e.num,o=e.shuffle,c=e.name,i=e.selected>0;return r.a.createElement("div",{className:"flex center alignCenter ".concat(t.option),onMouseEnter:function(e){!i&&o(e)},onClick:function(e){n(a)}},r.a.createElement("p",{className:t.optionLabel},c))}),x=n(45),y=n.n(x).a.connect("/"),E=n(26),S=(Object(E.a)(),function(e){var t=Object(E.a)();t.location.pathname!==e&&t.push(e)}),O=function(){y.emit("leave room")},v=n(46),w=Object(l.a)(d)(function(e){var t=e.classes,n=e.selected,a=e.dispatch;return r.a.createElement("div",{className:"flex center alignCenter column",style:1===n?{display:"flex"}:{display:"none"}},r.a.createElement("p",{className:t.optionLabel,onClick:function(){a({type:"START_GAME",nbPlayer:1})}},"Start"))}),j=Object(l.a)(d)(function(e){var t=e.classes,n=e.selected,o=Object(a.useState)(""),c=Object(i.a)(o,2),l=c[0],s=c[1];return r.a.createElement("div",{className:"flex center alignCenter column",style:3===n?{display:"flex"}:{display:"none"}},r.a.createElement("p",null,"Enter a new room name"),r.a.createElement("input",{className:"".concat(t.input),onChange:function(e){s(e.target.value)}}),r.a.createElement("p",{className:t.optionLabel,onClick:function(){var e;l.length&&(e=l,y.emit("create room",e,function(e,t){e?console.log('ROOM "'.concat(t,'" BIEN CR\xc9\xc9E ET REJOINTE')):console.log('ROOM "'.concat(t,'" EXITSE DEJA ! Pas cr\xe9\xe9e'))}))}},"Create"))}),k=Object(l.a)(d)(function(e){var t=e.selected;return r.a.createElement("div",{className:"flex center alignCenter column",style:4===t?{display:"flex"}:{display:"none"}},r.a.createElement("p",null,"Leaderboard:"),v.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,"Tableau sans TR ici "))}))}),C=Object(l.a)(d)(function(e){var t=e.classes,n=e.selected,o=Object(a.useState)(""),c=Object(i.a)(o,2),l=c[0],s=c[1];return r.a.createElement("div",{className:"flex center alignCenter column",style:2===n?{display:"flex"}:{display:"none"}},r.a.createElement("p",null,"Enter existing room name"),r.a.createElement("input",{className:"".concat(t.input),onChange:function(e){s(e.target.value)}}),r.a.createElement("p",{className:t.optionLabel,onClick:function(){var e;l.length&&(e=l,y.emit("is in room",e,function(e,t){e?console.log("DEJA DANS LA ROOM BOULET"):y.emit("join room",t,function(e,t){e?console.log('ROOM "'.concat(t,'" BIEN REJOINTE')):console.log('ROOM "'.concat(t,'" FULL OU PAS EXISTANTE!'))})}))}},"Join"))}),N=function(e){var t=m.a.random(0,7);u[t]===e.target.style.background&&(t=7===t?0:t+=1),e.target.className.includes("optionLabel")||(e.target.style.background=u[t])},T=Object(l.a)(d)(function(e){var t=e.classes,n=e.popupInfo,o=e.disablePopup,c=e.gameState,l=e.dispatch,p=Object(a.useState)(0),m=Object(i.a)(p,2),u=m[0],f=m[1],h=Object(a.useState)(!1),x=Object(i.a)(h,2),E=x[0],S=x[1],O=Object(a.useState)(""),v=Object(i.a)(O,2),T=v[0],P=v[1];return Object(a.useEffect)(function(){console.log(c,l)},[c]),r.a.createElement("div",{className:"App",style:d.container},null!==n?r.a.createElement(s,{infos:n,closePopup:o}):null,r.a.createElement("div",{className:"".concat(t.centerSubContainer)},r.a.createElement(g,null),r.a.createElement("div",{className:"flex center alignCenter column ".concat(t.chosen),style:u>0?{display:"flex"}:{display:"none"}},r.a.createElement(C,{selected:u}),r.a.createElement(w,{selected:u,dispatch:l}),r.a.createElement(j,{selected:u}),r.a.createElement(k,{selected:u}),r.a.createElement("p",{onClick:function(){f(0)},className:t.optionLabel},"Return")),r.a.createElement("div",{className:"flex column center alignCenter",style:u>0?{display:"none",transition:"0.5s ease"}:null},r.a.createElement("div",{className:"".concat(t.optionsContainer)},r.a.createElement(b,{selected:u,name:"Solo",select:f,num:1,shuffle:N}),r.a.createElement(b,{selected:u,name:"Join",select:f,num:2,shuffle:N}),r.a.createElement(b,{selected:u,name:"Create",select:f,num:3,shuffle:N})),r.a.createElement("div",{className:"flex center ".concat(t.optionsContainer)},r.a.createElement(b,{selected:u,name:"Score",select:f,num:4,shuffle:N}))),r.a.createElement("div",{className:"flex center alignCenter ".concat(t.changeUsernameContainer),onClick:function(e){S(!0)}},r.a.createElement("p",{style:{margin:"5px"}},"Username:\n"),r.a.createElement("div",null,E?r.a.createElement("div",{className:"flex row center alignCenter",style:{height:"50px",width:"400px"}},r.a.createElement("input",{id:"usernameInput",className:"fullWidth ".concat(t.input),value:T,autoFocus:!0,onKeyDown:function(e){13===e.keyCode&&(T.length<=10&&T.length>0?(y.emit("set username",T),S(!1)):alert("Username should be 1 character minimum and 10 characters maximum")),27===e.keyCode&&S(!1)},onChange:function(e){P(e.target.value)}})):r.a.createElement("div",{className:"flex center alignCenter",style:{fontSize:"34px",height:"50px",width:"400px",fontFamily:"Orbitron, sans-serif"}},c.player)))))}),P=n(47),W=n.n(P),H=(n(102),n(3)),R=function(){return{gameOverContainer:{height:"500px",width:"500px",backgroundColor:"pink"},restartLabel:{fontSize:"50px",fontWeight:"bold",color:"white",padding:"10px","&:hover":{color:"salmon"}},restartButton:{cursor:"pointer","& :active":{transform:"scale(0.9, 0.9)"}},blockStyle:{backgroundColor:"pink",width:"".concat(40,"px"),height:"".concat(40,"px"),border:"1px solid pink"}}},I=function(e,t){var n=!0;return t.form.forEach(function(a,r){a.forEach(function(a,o){a>0&&(!e[t.y+r]||e[t.y+r][t.x+o]>0||t.x+o>9+t.rightSpace||t.x+o<0-t.leftSpace||"undefined"===typeof e[t.y+r][t.x+o])&&(n=!1)})}),n},L=function(e,t){var n="T";return Object(p.isEmpty)(t)||(n=t[e]),{maxWidth:H[n].position[0].maxWidth,maxHeight:H[n].position[0].maxHeight,h:H[n].position[0].height,type:H[n].type,name:n,width:H[n].position[0].width,x:3,y:0,leftSpace:H[n].position[0].leftSpace,rightSpace:H[n].position[0].rightSpace,downSpace:H[n].position[0].downSpace,rot:0,form:H[n].position[0].form,color:H[n].color}},D=n(14),A=n(15);function F(){var e=Object(D.a)(["\n\tfont-size: ",";\n\talign-item: center;\n\tfont-weight: bold;\n\tcolor: salmon;\n\tmarginTop: 0 0 20px;\n\tpadding: 3px;\n"]);return F=function(){return e},e}var M=A.a.div(F(),function(e){return e.size}),U=function(e){var t=e.text;return r.a.createElement(M,null,t)},z=Object(l.a)(R)(function(e){var t=e.classes,n=e.level,a=e.score,o=e.rows,c=e.resetGame;return r.a.createElement("div",{className:"flex column center alignCenter",style:{height:"100hw"}},r.a.createElement("div",{className:"flex column center alignCenter ".concat(t.gameOverContainer)},r.a.createElement(U,{text:"Sorry, you lose",size:"1.0rem"}),r.a.createElement(U,{text:"Level: ".concat(n),size:"1.3rem"}),r.a.createElement(U,{text:"Score: ".concat(a),size:"1.3rem"}),r.a.createElement(U,{text:"Rows: ".concat(o),size:"1.3rem"}),r.a.createElement("div",{className:"flex column center alignCenter ".concat(t.restartButton)},r.a.createElement("div",{className:t.restartLabel,onClick:function(){c()}},"RESTART"))))}),G=n(7);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach(function(t){Object(G.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=["red","blue","yellow","purple","salmon","cyan","green"],K={backgroundColor:"pink",width:"".concat(40,"px"),height:"".concat(40,"px"),border:"0.5px solid #3331"},X={backgroundColor:"pink",width:"".concat(10,"px"),height:"".concat(10,"px"),border:"0.5px solid #3331"},V=function(e){var t=e.empty,n=e.color,a=e.transparent;return r.a.createElement("div",{style:t?J({},K):J({},K,a?{border:"0.5px solid transparent",backgroundColor:"transparent"}:{border:"0.5px solid white",backgroundColor:"".concat(n)})})},Z=function(e){var t=e.empty,n=e.color,a=e.transparent;return r.a.createElement("div",{style:t?J({},X):J({},X,a?{border:"0.5px solid transparent",backgroundColor:"transparent"}:{border:"0.5px solid white",backgroundColor:"".concat(n)})})};function $(){var e=Object(D.a)(["\n\tfont-size: 2.0rem;\n\talign-item: center;\n\tfont-weight: bold;\n\tcolor: pink;\n\tmarginTop: 0 0 20px;\n\tborder: 4px solid pink;\n\tborder-radius: 10px;\n\tpadding: 7px;\n"]);return $=function(){return e},e}var q=A.a.div($()),Q=function(e){var t=e.text;return r.a.createElement(q,null,t)},Y=Object(l.a)(R)(function(e){e.classes;var t=e.board,n=e.gameState,a=e.nextTetri,o=e.curTetri,c=e.score,i=e.level,l=e.rows,s=e.tetri,p=e.dropTime;return r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"absolute",style:{top:"100px",left:"100px"}},t.tab.map(function(e,t){return r.a.createElement("div",{style:{display:"flex"},key:t},e.map(function(e,t){return r.a.createElement("div",{key:t},e>0?r.a.createElement(V,{color:_[e-1]}):r.a.createElement(V,{empty:!0}))}))}),r.a.createElement("div",{className:"absolute",style:{top:"".concat(40*o.y+o.y,"px"),left:"".concat(40*o.x+o.x,"px")}},s.map(function(e,t){return r.a.createElement("div",{style:{display:"flex"},key:t},e.map(function(e,t){return r.a.createElement("div",{key:t},e>0?r.a.createElement(V,{color:o.color}):r.a.createElement(V,{transparent:!0}))}))}))),r.a.createElement("div",{className:"absolute flex center alignCenter column",style:{left:"600px",top:"100px"}},r.a.createElement("div",{style:{fontSize:"40px",fontWeight:"bold",color:"navy",marginTop:"20px"}},"Next:"),r.a.createElement("div",{className:"relative",style:{top:"10px",padding:"10px"}},a&&a.position[0].form.map(function(e,t){return r.a.createElement("div",{style:{display:"flex"},key:t},e.map(function(e,t){return r.a.createElement("div",{key:t},e>0?r.a.createElement(V,{color:a.color}):r.a.createElement(V,{transparent:!0}))}))})),r.a.createElement("div",{className:"relative",style:{}},r.a.createElement(Q,{text:"Score: ".concat(c)}),r.a.createElement(Q,{text:"Level: ".concat(i)}),r.a.createElement(Q,{text:"Rows: ".concat(l)}),r.a.createElement(Q,{text:"Speed: x".concat(1e3-p)})),r.a.createElement("div",{className:"flex row "},n.playTab&&n.playTab.map(function(e,t){return e&&e.id!==n.playerId?r.a.createElement("div",{key:t,className:"relative",style:{padding:"2px"}},e.shadow&&e.shadow.map(function(e,t){return r.a.createElement("div",{style:{display:"flex"},key:t},e.map(function(e,t){return r.a.createElement("div",{key:t},e>0?r.a.createElement(Z,{color:_[e-1]}):r.a.createElement(Z,{empty:!0}))}))})):null}))))});function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach(function(t){Object(G.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(n,!0).forEach(function(t){Object(G.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var re=Object(l.a)(R)(function(e){e.classes;var t=e.gameState,n=e.dispatch,o=e.solo,c=Object(a.useState)([]),l=Object(i.a)(c,2),s=l[0],m=l[1],u=Object(a.useState)(0),f=Object(i.a)(u,2),h=f[0],g=f[1],b=Object(a.useState)(!1),x=Object(i.a)(b,2),E=x[0],S=x[1],v=Object(a.useState)({tab:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],tetriList:[]}),w=Object(i.a)(v,2),j=w[0],k=w[1],C=Object(a.useState)(L(0,s)),N=Object(i.a)(C,2),T=N[0],P=N[1],W=Object(a.useState)(0),R=Object(i.a)(W,2),D=R[0],A=R[1],F=Object(a.useState)(!0),M=Object(i.a)(F,2),U=M[0],G=M[1],B=Object(a.useState)(null),J=Object(i.a)(B,2),_=J[0],K=J[1],X=Object(a.useState)(0),V=Object(i.a)(X,2),Z=V[0],$=V[1],q=Object(a.useState)(0),Q=Object(i.a)(q,2),ee=Q[0],ne=Q[1],re=Object(a.useState)(1e3),oe=Object(i.a)(re,2),ce=oe[0],ie=oe[1],le=Object(a.useRef)(!1),se=Object(a.useRef)(!1);Object(a.useEffect)(function(){y.emit("RandomTetri")},[E]),Object(a.useEffect)(function(){return console.log("dans GAME: gamestate:",t),y.on("sendRandTetris",function(e){m(e)}),o||y.on("receive player shadow",n),function(){return y.off("sendRandTetris")}},[]),Object(a.useEffect)(function(){Object(p.isEmpty)(s)||K(H[s[1]])},[s]),Object(a.useEffect)(function(){console.log("EMIT BOARD STATE"),o||y.emit("emit board state",j.tab,t.room)},[h]),Object(a.useEffect)(function(){JSON.stringify(j)===JSON.stringify({tab:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],tetriList:[]})&&h>0&&function(e,t,n,a,r,o,c,i,l,s,p){e(0),t(0),n(0),a(0),r(1e3),o(c(0),i),p(l[i[1]]),s(!1)}(g,A,ne,$,ie,P,L,s,H,S,K)},[j,h,s,_]);var pe=Object(a.useCallback)(function(e){return setInterval(function(){!function(e,t,n,a,r,o,c,i,l,s,p,m,u,d,f){e(function(e){if(t(p.tab,te({},e,{y:e.y+1})))return te({},e,{y:e.y+1});n(!0),a.current=null,r(m.current),o(function(t){return e.form.forEach(function(n,a){n.forEach(function(n,r){e.form[a][r]>0&&(t.tab[e.y+a][e.x+r]=e.form[a][r])})}),t});var h=c(u+1,d);return i(function(e){return l(f[d[e+2]]),e+1}),!1!==h&&t(p.tab,h)?h:(s(!0),e)})}(P,I,G,se,clearInterval,k,L,g,K,S,j,le,h,s,H)},e)},[j.tab,h,s]),me=Object(a.useCallback)(function(e){var t=se.current?se.current.keyCode:t;(!t||38!==t&&32!==t&&40!==t)&&U&&(se.current=e,function(e,t,n,a,r,o,c,i){39===i.keyCode&&o(function(n){return e(t.tab,ae({},n,{x:n.x+1}))?ae({},n,{x:n.x+1}):n}),37===i.keyCode&&o(function(n){return e(t.tab,ae({},n,{x:n.x-1}))?ae({},n,{x:n.x-1}):n}),40===i.keyCode&&(clearInterval(a.current),a.current=c(30)),32===i.keyCode&&(n(!1),clearInterval(a.current),a.current=c(15)),38===i.keyCode&&o(function(n){var a=n.rot>2?0:n.rot+1,o=ae({},n,{form:r[n.name].position[a].form,rot:a,h:r[n.name].position[a].height,leftSpace:r[n.name].position[a].leftSpace,rightSpace:r[n.name].position[a].rightSpace,downSpace:r[n.name].position[a].downSpace,maxHeight:r[n.name].position[a].maxHeight,maxWidth:r[n.name].position[a].maxWidth,width:r[n.name].position[a].width,height:r[n.name].position[a].height});return e(t.tab,o)?o:n})}(I,j,G,le,H,P,pe,e))},[j.tab,U,pe]),ue=function(e){40===e.keyCode&&U&&(clearInterval(le.current),le.current=pe(ce)),32!==se.current&&(se.current=null)},de=function(){document.removeEventListener("keydown",me),document.removeEventListener("keyup",ue)};Object(a.useEffect)(function(){return le.current=pe(ce),E&&clearInterval(le.current),function(){clearInterval(le.current)}},[h,E,ce,pe]),Object(a.useEffect)(function(){return document.addEventListener("keydown",me),document.addEventListener("keyup",ue),E&&de(),function(){return de()}},[h,E,U,T,D,ce,me,pe]);var fe=function(e,t){var n=[40,100,300,1200];A(function(e){return e+n[t-1]}),$(function(e){var n=e+t,a=Math.trunc(n/10);return a>ee&&a<5&&ne(function(){return ie(200*(5-a)),a}),e+t})};Object(a.useEffect)(function(){!function(e,t,n,a){var r=e.tab,o=[];r.map(function(e,t){return e.every(function(e){return e>0})&&o.push(t),r}),o.length&&(function(e,t,n,a){var r=t;e.map(function(t){return r.splice(t,1),r.splice(0,0,[0,0,0,0,0,0,0,0,0,0]),e}),n({tetriList:a.tetriList,tab:r})}(o,r,a,e),t(n,o.length))}(j,fe,Z,k)});var he=T.form;return r.a.createElement("div",{className:"App",style:d.container},r.a.createElement("div",{className:"navigationBar fullWidth flex center alignCenter",style:{height:"30px",backgroundColor:"red"}},r.a.createElement("p",{onClick:function(){n({type:"END_GAME"}),O()}},"RETURN MENU")),E?r.a.createElement(z,{level:ee,score:D,rows:Z,resetGame:function(){k({tab:[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],tetriList:[]})}}):r.a.createElement(Y,{level:ee,score:D,rows:Z,board:j,gameState:t,nextTetri:_,curTetri:T,tetri:he,dropTime:ce}))}),oe=Object(l.a)(d)(function(e){var t=e.classes,n=e.gameState,o=e.dispatch,c=n.playerId,i={};n.playTab&&n.playTab.forEach(function(e){e&&e.id===c&&(i=e)});return Object(a.useEffect)(function(){return y.on("room update",o),y.on("host started game",function(){o({type:"START_GAME",nbPlayer:Object.keys(n.playTab).length})}),y.emit("room infos"),function(){return y.off("room update")}},[]),r.a.createElement("div",{className:"fullWidth",style:{backgroundColor:"pink"}},n.gameStarted?r.a.createElement(re,{gameState:n,dispatch:o}):r.a.createElement("div",null,r.a.createElement("div",{className:"navigationBar fullWidth flex center alignCenter",style:{height:"30px",backgroundColor:"red"},onClick:function(){O()}},r.a.createElement("p",null,"RETURN MENU")),r.a.createElement("div",{className:"App",style:d.container},r.a.createElement("p",{align:"center"},"Waiting for host to start the game"),r.a.createElement(W.a,{color:"navy"}),r.a.createElement("p",null,"Room : ",n.room),r.a.createElement("div",null,r.a.createElement("div",{className:t.listUsernameLabel},"Players in this room :"),n.playTab&&n.playTab.map(function(e,n){return e?r.a.createElement("div",{className:"flex center alignCenter row",key:n},r.a.createElement("div",{className:t.listUsernameLabel},e.username,e.gameHost?" \u265b":"")):r.a.createElement("div",{key:n})})),i.gameHost?r.a.createElement("div",{className:t.startButton,onClick:function(){y.emit("start game",n.room)}},"START"):null)))});function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(n,!0).forEach(function(t){Object(G.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var le={room:null,nbPlayer:null,player:null,playerId:null,isInGame:!1,gameStarted:!1,isWaiting:!1,isHost:!1,playTab:[],shadows:null},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_INFOS":return ie({},e,{player:t.player,playerId:t.playerId,isInGame:t.isInGame});case"UPDATE_OPPONENTS":return console.log("DANS UPDATE OPPONENT: ",t),ie({},e,{playTab:t.playTab});case"SET_USERNAME":return ie({},e,{player:t.player});case"ROOM_JOINED":return ie({},e,{room:t.room,isInGame:!0,isHost:t.player.isHost,playTab:t.playerTab,isWaiting:!0});case"ROOM_LEAVED":return ie({},e,{room:null,isInGame:!1,isHost:!1});case"ROOM_UPDATE":return console.log("ROOM UPDATE!!: ",t),ie({},e,{playTab:t.playerTab,isHost:t.isHost});case"START_GAME":return ie({},e,{gameStarted:!0,nbPlayer:t.nbPlayer});case"END_GAME":return ie({},e,{gameStarted:!1,isWaiting:!1});default:return e}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(function(e){var t=Object(a.useState)(null),n=Object(i.a)(t,2),o=n[0],c=n[1],l=Object(a.useReducer)(se,le),s=Object(i.a)(l,2),p=s[0],m=s[1],u=function(e){m(e)};return Object(a.useEffect)(function(){!1===p.isInGame&&y.emit("user connect")},[p.isInGame]),Object(a.useEffect)(function(){y.on("get user infos",m),y.on("room joined",function(e){S("".concat(e.room,"[").concat(e.player,"]")),m(e)}),y.on("room leaved",m),y.on("username set",m),y.on("info popup",c),y.emit("user connect")},[]),p.isInGame?r.a.createElement(oe,{gameState:p,dispatch:u}):p.gameStarted&&1===p.nbPlayer?r.a.createElement(re,{gameState:p,dispatch:u,solo:!0}):r.a.createElement(T,{gameState:p,dispatch:u,popupInfo:o,disablePopup:function(){c(null)}})},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},3:function(e){e.exports={I:{color:"red",position:[{rightSpace:0,leftSpace:0,downSpace:2,maxHeight:2,maxWidth:4,width:[0,4,0,0],height:[2,2,2,2],form:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]]},{rightSpace:2,leftSpace:1,downSpace:0,maxHeight:4,width:[2,2,2,2],maxWidth:2,height:[0,4,0,0],form:[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]]},{rightSpace:0,leftSpace:0,maxWidth:4,downSpace:1,width:[0,0,4,0],height:[3,3,3,3],maxHeight:3,form:[[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0]]},{rightSpace:1,leftSpace:2,maxHeight:4,downSpace:0,width:[3,3,3,3],maxWidth:3,height:[0,0,4,0],form:[[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]]}]},O:{color:"blue",position:[{rightSpace:1,maxHeight:2,leftSpace:1,width:[3,3,0,0],maxWidth:3,downSpace:2,height:[0,2,2,0],form:[[0,2,2,0],[0,2,2,0],[0,0,0,0],[0,0,0,0]]},{rightSpace:1,maxWidth:3,leftSpace:1,downSpace:2,width:[3,3,0,0],maxHeight:2,height:[0,2,2,0],form:[[0,2,2,0],[0,2,2,0],[0,0,0,0],[0,0,0,0]]},{height:[0,2,2,0],rightSpace:1,leftSpace:1,width:[3,3,0,0],maxWidth:3,maxHeight:2,downSpace:2,form:[[0,2,2,0],[0,2,2,0],[0,0,0,0],[0,0,0,0]]},{height:[0,2,2,0],width:[3,3,0,0],maxWidth:3,rightSpace:1,leftSpace:1,maxHeight:2,downSpace:2,form:[[0,2,2,0],[0,2,2,0],[0,0,0,0],[0,0,0,0]]}]},T:{color:"yellow",position:[{rightSpace:1,leftSpace:0,maxWidth:3,height:[2,2,2,0],width:[2,3,0,0],maxHeight:2,downSpace:2,form:[[0,3,0,0],[3,3,3,0],[0,0,0,0],[0,0,0,0]]},{rightSpace:1,leftSpace:1,height:[0,3,2,0],width:[2,3,2,0],maxWidth:3,downSpace:1,maxHeight:3,form:[[0,3,0,0],[0,3,3,0],[0,3,0,0],[0,0,0,0]]},{rightSpace:1,leftSpace:0,height:[2,3,2,0],maxWidth:3,maxHeight:3,width:[0,3,2,0],downSpace:1,form:[[0,0,0,0],[3,3,3,0],[0,3,0,0],[0,0,0,0]]},{rightSpace:2,leftSpace:0,width:[2,3,2,0],maxWidth:3,height:[2,3,0,0],maxHeight:3,downSpace:1,form:[[0,3,0,0],[3,3,0,0],[0,3,0,0],[0,0,0,0]]}]},L:{color:"purple",position:[{rightSpace:1,leftSpace:0,maxHeight:2,width:[3,3,0,0],maxWidth:3,height:[2,2,2,0],downSpace:2,form:[[0,0,4,0],[4,4,4,0],[0,0,0,0],[0,0,0,0]]},{rightSpace:1,leftSpace:1,height:[0,3,3,0],maxHeight:3,maxWidth:3,width:[2,2,3,0],downSpace:1,form:[[0,4,0,0],[0,4,0,0],[0,4,4,0],[0,0,0,0]]},{rightSpace:1,maxHeight:3,leftSpace:0,downSpace:1,maxWidth:3,width:[0,3,1,0],height:[3,2,2,0],form:[[0,0,0,0],[4,4,4,0],[4,0,0,0],[0,0,0,0]]},{rightSpace:2,leftSpace:0,maxHeight:3,maxWidth:2,width:[2,2,2,0],height:[1,3,0,0],downSpace:1,form:[[4,4,0,0],[0,4,0,0],[0,4,0,0],[0,0,0,0]]}]},J:{color:"salmon",position:[{rightSpace:1,leftSpace:0,height:[2,2,2,0],maxHeight:2,width:[1,3,0,0],maxWidth:3,downSpace:2,form:[[5,0,0,0],[5,5,5,0],[0,0,0,0],[0,0,0,0]]},{rightSpace:1,leftSpace:1,maxHeight:3,maxWidth:3,height:[0,3,1,0],width:[3,2,2,0],downSpace:1,form:[[0,5,5,0],[0,5,0,0],[0,5,0,0],[0,0,0,0]]},{rightSpace:1,leftSpace:0,width:[0,3,3,0],height:[2,2,3,0],maxWidth:3,maxHeight:3,downSpace:1,form:[[0,0,0,0],[5,5,5,0],[0,0,5,0],[0,0,0,0]]},{rightSpace:2,leftSpace:0,maxWidth:2,maxHeight:3,width:[2,2,2,0],height:[3,3,0,0],downSpace:1,form:[[0,5,0,0],[0,5,0,0],[5,5,0,0],[0,0,0,0]]}]},Z:{color:"cyan",position:[{rightSpace:1,leftSpace:0,height:[1,2,2,0],maxHeight:2,width:[2,3,0,0],maxWidth:3,downSpace:2,form:[[6,6,0,0],[0,6,6,0],[0,0,0,0],[0,0,0,0]]},{rightSpace:1,maxWidth:3,leftSpace:1,width:[3,3,2,0],maxHeight:3,height:[0,3,2,0],downSpace:1,form:[[0,0,6,0],[0,6,6,0],[0,6,0,0],[0,0,0,0]]},{rightSpace:1,maxWidth:3,leftSpace:0,maxHeight:3,width:[0,2,3,0],height:[2,3,3,0],downSpace:1,form:[[0,0,0,0],[6,6,0,0],[0,6,6,0],[0,0,0,0]]},{rightSpace:2,leftSpace:0,maxWidth:2,maxHeight:3,width:[2,2,1,0],height:[3,2,0,0],downSpace:1,form:[[0,6,0,0],[6,6,0,0],[6,0,0,0],[0,0,0,0]]}]},S:{color:"green",position:[{rightSpace:1,leftSpace:0,height:[2,2,1,0],width:[3,2,0,0],maxHeight:2,maxWidth:3,downSpace:2,form:[[0,7,7,0],[7,7,0,0],[0,0,0,0],[0,0,0,0]]},{rightSpace:1,leftSpace:1,maxHeight:3,height:[0,2,3,0],width:[2,3,3,0],maxWidth:3,downSpace:1,form:[[0,7,0,0],[0,7,7,0],[0,0,7,0],[0,0,0,0]]},{rightSpace:1,leftSpace:0,maxWidth:3,maxHeight:3,width:[0,3,2,0],height:[3,3,2,0],downSpace:1,form:[[0,0,0,0],[0,7,7,0],[7,7,0,0],[0,0,0,0]]},{rightSpace:2,leftSpace:0,maxWidth:2,width:[1,1,2,0],maxHeight:3,height:[2,3,0,0],downSpace:1,form:[[7,0,0,0],[7,7,0,0],[0,7,0,0],[0,0,0,0]]}]}}},44:function(e,t,n){e.exports=n.p+"static/media/blue-tetrimino.cde48510.png"},46:function(e){e.exports=[{id1:"Nobila",score1:160,rows1:5,level1:4}]},53:function(e,t,n){e.exports=n(103)},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},97:function(e,t){}},[[53,1,2]]]);
//# sourceMappingURL=main.3169f5bb.chunk.js.map