{"ast":null,"code":"import _slicedToArray from \"/Users/valeriecardon/Red-Tetris/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/valeriecardon/Red-Tetris/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/valeriecardon/Red-Tetris/client/src/components/Game.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useReducer, useEffect, useRef } from 'react';\nimport pieces from './pieces.json';\nimport { tetriReducer, initialTetriState } from '../reducers/tetriReducer';\nconst blockSize = 40;\nconst blockStyle = {\n  backgroundColor: 'lightgrey',\n  width: \"\".concat(blockSize, \"px\"),\n  height: \"\".concat(blockSize, \"px\"),\n  border: '1px solid grey'\n};\n\nconst Block = ({\n  empty,\n  color,\n  transparent\n}) => {\n  return React.createElement(\"div\", {\n    style: !!empty ? _objectSpread({}, blockStyle) : transparent ? _objectSpread({}, blockStyle, {\n      border: '1px solid transparent',\n      backgroundColor: 'transparent'\n    }) : _objectSpread({}, blockStyle, {\n      border: '1px solid black',\n      backgroundColor: \"\".concat(color)\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  });\n};\n\nexport const Game = () => {\n  const _useReducer = useReducer(tetriReducer, initialTetriState),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        curTetri = _useReducer2[0],\n        moveTetri = _useReducer2[1];\n\n  useEffect(props => {\n    moveTetri({\n      type: 'SET_TETRI',\n      payload: curTetri.name\n    });\n    refInterval.current = setInterval(() => {\n      moveTetri({\n        type: 'DOWN'\n      });\n    }, 200);\n    document.addEventListener(\"keydown\", event => {\n      if (event.keyCode === 37) {\n        moveTetri({\n          type: 'LEFT'\n        });\n      }\n\n      if (event.keyCode === 39) {\n        moveTetri({\n          type: 'RIGHT'\n        });\n      }\n\n      if (event.keyCode === 38) {\n        moveTetri({\n          type: 'ROTATION'\n        });\n      }\n    });\n    return () => {\n      clearInterval(refInterval.current);\n    };\n  }, [curTetri.name]);\n  useEffect(() => {\n    //checker ici si ya colision au prochain move\n    if (curTetri.y > 15 + curTetri.downSpace) {\n      clearInterval(refInterval.current);\n      board.tetriList.length >= 1 ? board.tetriList.concat(curTetri) : board.tetriList.push(curTetri);\n      moveTetri({\n        type: 'SET_TETRI',\n        payload: pieces.pieces[curTetri.listIndex]\n      });\n    }\n  });\n\n  const _useState = useState({\n    tab: [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]],\n    tetriList: []\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        board = _useState2[0],\n        updateBoard = _useState2[1]; // const draw = (board, t) => {\n  // \tlet tab = t.form\n  // \ttab.map((line, y)=>{\n  // \t\tline.map((col, x)=>{\n  // \t\t\tif (col === 1 && board[y + t.y]){\n  // \t\t\t\t// board[y + t.y][x + t.x] = 1\n  // \t\t\t}\n  // \t\t})\n  // \t})\n  // }\n  // draw(board.tab, curTetri)\n\n\n  const refInterval = useRef(false);\n  const tetri = curTetri.form;\n  return React.createElement(\"div\", {\n    className: \"flex center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: 'absolute',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, board.tab.map((line, index) => {\n    return React.createElement(\"div\", {\n      style: {\n        display: 'flex'\n      },\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, line.map((col, index) => {\n      return React.createElement(\"div\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, col > 0 ? React.createElement(Block, {\n        color: curTetri.color,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }) : React.createElement(Block, {\n        empty: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }));\n    }));\n  }), React.createElement(\"div\", {\n    className: \"absolute\",\n    style: {\n      top: \"\".concat(blockSize * curTetri.y + curTetri.y * 2, \"px\"),\n      left: \"\".concat(blockSize * curTetri.x + curTetri.x * 2, \"px\")\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, tetri.map((line, index) => {\n    return React.createElement(\"div\", {\n      style: {\n        display: 'flex'\n      },\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, line.map((col, index) => {\n      return React.createElement(\"div\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, col > 0 ? React.createElement(Block, {\n        color: curTetri.color,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }) : React.createElement(Block, {\n        transparent: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }));\n    }));\n  }))));\n};","map":{"version":3,"sources":["/Users/valeriecardon/Red-Tetris/client/src/components/Game.js"],"names":["React","useState","useReducer","useEffect","useRef","pieces","tetriReducer","initialTetriState","blockSize","blockStyle","backgroundColor","width","height","border","Block","empty","color","transparent","Game","curTetri","moveTetri","props","type","payload","name","refInterval","current","setInterval","document","addEventListener","event","keyCode","clearInterval","y","downSpace","board","tetriList","length","concat","push","listIndex","tab","updateBoard","tetri","form","map","line","index","display","col","top","left","x"],"mappings":"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","sourcesContent":["import React, { useState, useReducer, useEffect, useRef } from 'react'\nimport pieces from './pieces.json'\nimport {tetriReducer, initialTetriState} from '../reducers/tetriReducer'\n\nconst blockSize = 40\n\nconst blockStyle = ({\n\tbackgroundColor: 'lightgrey',\n\twidth: `${blockSize}px`,\n\theight: `${blockSize}px`,\n\tborder: '1px solid grey'\n})\n\nconst Block = ({empty, color, transparent})=>{\n\treturn (\n\t\t<div\n\t\t\tstyle={\n\t\t\t\t!!empty\n\t\t\t\t\t? {...blockStyle}\n\t\t\t\t\t: transparent\n\t\t\t\t\t\t? {...blockStyle, border: '1px solid transparent', backgroundColor: 'transparent'}\n\t\t\t\t\t\t: {...blockStyle, border: '1px solid black', backgroundColor: `${color}`}}\n\t\t/>\n\t)\n}\n\n\nexport const Game = () => {\n\n\tconst [curTetri, moveTetri] = useReducer(tetriReducer, initialTetriState)\n\n\tuseEffect((props) => {\n\t\tmoveTetri({type: 'SET_TETRI', payload: curTetri.name})\n\n\t\trefInterval.current = setInterval(() => {\n\t\t\t\tmoveTetri({type: 'DOWN'})\n\t\t\t}, 200)\n\n\t\tdocument.addEventListener(\"keydown\", event => {\n\t\t\tif (event.keyCode === 37) {\n\t\t\t\tmoveTetri({type: 'LEFT'})\n\t\t\t}\n\t\t\tif (event.keyCode === 39) {\n\t\t\t\tmoveTetri({type: 'RIGHT'})\n\t\t\t}\n\t\t\tif (event.keyCode === 38) {\n\t\t\t\tmoveTetri({type: 'ROTATION'})\n\t\t\t}\n\t\t})\n\n\t\t\treturn () => {\n\t\t\t\tclearInterval(refInterval.current)\n\t\t\t}\n\t\t}, [curTetri.name]\n\t)\n\n\tuseEffect(() => {\n\t\t//checker ici si ya colision au prochain move\n\t\tif (curTetri.y > 15 + curTetri.downSpace){\n\t\t\tclearInterval(refInterval.current)\n\t\t\tboard.tetriList.length >= 1 ? board.tetriList.concat(curTetri) : board.tetriList.push(curTetri)\n\t\t\tmoveTetri({type: 'SET_TETRI', payload: pieces.pieces[curTetri.listIndex]})\n\t\t}\n\t})\n\n\tconst [board, updateBoard] = useState({\n\t\ttab: [\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0],\n\t\t\t[0,0,0,0,0,0,0,0,0,0]\n\t\t],\n\t\ttetriList: []\n\t})\n\n\t// const draw = (board, t) => {\n\t// \tlet tab = t.form\n\t// \ttab.map((line, y)=>{\n\t// \t\tline.map((col, x)=>{\n\t// \t\t\tif (col === 1 && board[y + t.y]){\n\t// \t\t\t\t// board[y + t.y][x + t.x] = 1\n\t// \t\t\t}\n\t// \t\t})\n\t// \t})\n\t// }\n\n\t// draw(board.tab, curTetri)\n\tconst refInterval = useRef(false)\n\tconst tetri = curTetri.form\n\treturn (\n\t\t<div className='flex center'>\n\t\t\t<div className={'absolute'}>\n\t\t\t\t{\n\t\t\t\t\tboard.tab.map((line, index)=>{\n\t\t\t\t\t\treturn <div style={{display: 'flex'}} key={index}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tline.map((col, index) => {\n\t\t\t\t\t\t\t\t\treturn <div key={index}>\n\t\t\t\t\t\t\t\t\t\t{col > 0\n\t\t\t\t\t\t\t\t\t\t\t? <Block color={curTetri.color}/>\n\t\t\t\t\t\t\t\t\t\t\t: <Block empty/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\t<div className={`absolute`} style={{top: `${blockSize * curTetri.y + curTetri.y * 2}px`, left: `${blockSize * curTetri.x + curTetri.x * 2}px`}}>\n\t\t\t\t\t{\n\t\t\t\t\t\ttetri.map((line, index)=>{\n\t\t\t\t\t\treturn <div style={{display: 'flex'}} key={index}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tline.map((col, index) => {\n\t\t\t\t\t\t\t\t\treturn <div key={index}>\n\t\t\t\t\t\t\t\t\t\t{col > 0\n\t\t\t\t\t\t\t\t\t\t\t? <Block color={curTetri.color}/>\n\t\t\t\t\t\t\t\t\t\t\t: <Block transparent/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</div>\n\t)\n}"]},"metadata":{},"sourceType":"module"}